<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="en" data-bs-theme="auto">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<title>Creating Data Applications and Dashboards for Open Science in R: All in One View</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="../assets/themetoggle.js"></script><link rel="stylesheet" type="text/css" href="../assets/styles.css">
<script src="../assets/scripts.js" type="text/javascript"></script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="../favicons/incubator/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicons/incubator/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="../favicons/incubator/favicon-16x16.png">
<link rel="manifest" href="../favicons/incubator/site.webmanifest">
<link rel="mask-icon" href="../favicons/incubator/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="white">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="black">
</head>
<body>
    <header id="top" class="navbar navbar-expand-md top-nav incubator"><svg xmlns="http://www.w3.org/2000/svg" class="d-none"><symbol id="check2" viewbox="0 0 16 16"><path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"></path></symbol><symbol id="circle-half" viewbox="0 0 16 16"><path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"></path></symbol><symbol id="moon-stars-fill" viewbox="0 0 16 16"><path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"></path><path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"></path></symbol><symbol id="sun-fill" viewbox="0 0 16 16"><path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"></path></symbol></svg><a class="visually-hidden-focusable skip-link" href="#main-content">Skip to main content</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-8">
      <div class="large-logo">
        <img id="incubator-logo" alt="Lesson Description" src="../assets/images/incubator-logo.svg"><span class="badge text-bg-danger">
          <abbr title="This lesson is in the pre-alpha phase, which means that it is in early development, but has not yet been taught.">
            <a href="https://docs.carpentries.org/resources/curriculum/lesson-life-cycle.html" class="external-link alert-link">
              <i aria-hidden="true" class="icon" data-feather="alert-octagon" style="border-radius: 5px"></i>
              Pre-Alpha
            </a>
            <span class="visually-hidden">This lesson is in the pre-alpha phase, which means that it is in early development, but has not yet been taught.</span>
          </abbr>
        </span>

      </div>
    </div>
    <div class="selector-container">
      <div id="theme-selector">
        <li class="nav-item dropdown" id="theme-button-list">
          <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
            <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="bd-theme-text">
<li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                Light
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                Dark
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                Auto
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
          </ul>
</li>
      </div>

      <div class="dropdown" id="instructor-dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Instructor View <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
<li><button class="dropdown-item" type="button" onclick="window.location.href='../aio.html';">Learner View</button></li>
        </ul>
</div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl bottom-nav incubator" aria-label="Main Navigation"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle Navigation">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menu</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="Lesson Description" src="../assets/images/incubator-logo-sm.svg">
</div>
    <div class="lesson-title-md">
      Creating Data Applications and Dashboards for Open Science in R
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
        <i role="img" aria-label="Search the All In One page" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
<li class="nav-item">
          <span class="lesson-title">
            Creating Data Applications and Dashboards for Open Science in R
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/key-points.html">Key Points</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/instructor-notes.html">Instructor Notes</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/images.html">Extract All Images</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            More <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
<hr>
<li><a class="dropdown-item" href="reference.html">Reference</a></li>
          </ul>
</li>
      </ul>
</div>
    <!--
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled>
      <input class="form-control me-2 searchbox" type="search" placeholder="" aria-label="">
        <button class="btn btn-outline-success tablet-search-button"  type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="Search the All In One page"></i>
        </button>
      </fieldset>
    </form>
    -->
    <a id="search-button" class="btn btn-primary" href="../instructor/aio.html" role="button" aria-label="Search the All In One page">Search the All In One page</a>
  </div>
<!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  Creating Data Applications and Dashboards for Open Science in R
</div>

<aside class="col-md-12 lesson-progress"><div style="width: %" class="percentage">
    %
  </div>
  <div class="progress incubator">
    <div class="progress-bar incubator" role="progressbar" style="width: %" aria-valuenow="" aria-label="Lesson Progress" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
<div id="sidebar-col" class="col-lg-4">
  <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="close menu" alt="close menu" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle" data-collapse="Collapse " data-episodes="Episodes ">
          <i class="search-icon" data-feather="x" role="img"></i>
        </button>
        <div class="sidebar-inner">
          <div class="row mobile-row" id="theme-row-mobile">
            <div class="col" id="theme-selector">
              <li class="nav-item dropdown" id="theme-button-list">
                <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
                  <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><span class="d-lg-none ms-1" id="bd-theme-text">Toggle Theme</span>
                </button>
                <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="bd-theme-text">
<li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                      Light
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                      Dark
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                      <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                      Auto
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                </ul>
</li>
            </div>
          </div>
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Instructor View
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="../aio.html">Learner View</a>
                      </div>
                    </div>
                  </div>
<!--/div.accordion-item-->
                </div>
<!--/div.accordion-flush-->
              </div>
<!--div.sidenav-view-selector -->
            </div>
<!--/div.col -->

            <hr>
</div>
<!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  EPISODES
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Summary and Schedule</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush2">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading2">
        <a href="introduction.html">1. Introduction and Motivation</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush3">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading3">
        <a href="02-shiny-fundamentals.html">2. Shiny Fundamentals</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush4">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading4">
        <a href="03-data-applications.html">3. Shiny Data Applications</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush5">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading5">
        <a href="04-data-dashboards.html">4. Shiny Data Dashboards</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush6">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading6">
        <a href="05-publishing-applications.html">5. Publishing Shiny Applications</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width">
<div class="accordion accordion-flush lesson-resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="lesson-resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RESOURCES
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul>
<li>
                        <a href="../instructor/key-points.html">Key Points</a>
                      </li>
                      <li>
                        <a href="../instructor/instructor-notes.html">Instructor Notes</a>
                      </li>
                      <li>
                        <a href="../instructor/images.html">Extract All Images</a>
                      </li>
                      <hr>
<li><a class="dropdown-item" href="reference.html">Reference</a></li>
                    </ul>
</div>
                </div>
              </div>
            </div>
            <hr class="half-width lesson-resources">
<a href="../instructor/aio.html">See all in one page</a>


            <hr class="d-none d-sm-block d-md-none">
<div class="d-grid gap-1">

            </div>
          </div>
<!-- /div.accordion -->
        </div>
<!-- /div.sidebar-inner -->
      </nav>
</div>
<!-- /div.sidebar -->
  </div>
<!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-extra.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <main id="main-content" class="main-content"><div class="container lesson-content">
        
        
<section id="aio-introduction"><p>Content from <a href="introduction.html">Introduction and Motivation</a></p>
<hr>
<p>Last updated on 2025-07-29 |

        <a href="https://github.com/aranganath24/data-dashboard-carpentries/edit/main/episodes/introduction.Rmd" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 20 minutes</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>Why might you want to create an interactive data application or
dashboard as a wrapper for your research data?</li>
<li>What is the <em>Shiny</em> package in R?</li>
<li>What are some examples of data applications or dashboards created
with the Shiny package ecosystem?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Survey published examples of Shiny applications and dashboards and
explore some of their features and properties</li>
<li>Reflect on what an “ideal” application or dashboard would look like
for your particular research data use case</li>
<li>Appreciate the relevance of data applications and dashboards for
Open Science</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="interactive-data-applications-for-open-science">Interactive Data Applications for Open Science<a class="anchor" aria-label="anchor" href="#interactive-data-applications-for-open-science"></a>
</h2>
<hr class="half-width">
<p>The practice of open science promotes a global “knowledge commons”
that has the potential to support enlightened and informed public
discourse. While open scholarly outputs such as open-access publications
and research datasets are typically intended for scholarly audiences
with specialized training and expertise, the broader public is a
critical stakeholder in open science, and researchers may wish to invite
non-specialist audiences to engage with their research data and findings
for a variety of reasons, such as the following:</p>
<ul>
<li>Some researchers may view it as a civic duty, to the extent that a
significant share of scientific research is ultimately funded by the
public</li>
<li>It offers academic researchers an opportunity to build their public
profiles beyond their scholarly communities, which allows them to
credibly share their expertise</li>
<li>It could help to build public appreciation for open science and
academic research, which could have valuable downstream impacts
(i.e. increased funding)</li>
<li>The research data may cast important light on issues of public
interest or public policy, and making it available to a broad
non-specialist audience in an accessible form could contribute to a more
informed or enlightened public discourse</li>
</ul>
<p>In short, the dissemination of research data to non-specialist
audiences can be an important and valuable part of scientific
communication in the context of open science. However, it can be
challenging to present complex research datasets in ways that are
intuitive, accessible, and engaging to a broader audience. One way to do
so is through the use of digital applications that wrap research
datasets into an interactive graphical-user-interface (GUI) that allows
non-specialists to explore and query the underlying data. These
applications can be constructed in any number of ways. Data dashboards
are one example of a GUI-based data exploration application; typically,
a dashboard offers an interactive visual display of multiple pieces of
information in different formats, arrayed across different sections or
“panels” of a rectangular display. One famous example of a data
dashboard is the <a href="https://coronavirus.jhu.edu/map.html" class="external-link">COVID-19
Dashboard</a>, developed by the Center for Systems Science and
Engineering at Johns Hopkins:</p>
<figure style="text-align: center"><img src="../fig/fig1-covid-dashboard.png" alt="Figure 1. The Johns Hopkins COVID-19 Dashboard" class="figure mx-auto d-block"><figcaption>
Figure 1. The Johns Hopkins COVID-19 Dashboard
</figcaption></figure><p>Data dashboards, and interactive data applications more generally,
are frequently used in government, public health, and corporate contexts
in which important and potentially complex information needs to be
communicated with a broad audience in an accessible way. However, they
are not used as frequently in the context of communicating information
and insights derived from research data. There could be many potential
reasons for this, one of which is that the creation of these
applications can be time-consuming and resource-intensive for
researchers and scientists who do not have previous experience with
application development. For such researchers, who would like to develop
simple applications that could help foster broader engagement with their
research and data, but do not have software expertise or access to
specialized programs that facilitate application or dashboard creation,
the <em>Shiny</em> package ecosystem is an excellent option.</p>
</section><section><h2 class="section-heading" id="the-shiny-package-ecosystem-for-interactive-application-development">The <em>Shiny</em> Package Ecosystem for Interactive Application
Development<a class="anchor" aria-label="anchor" href="#the-shiny-package-ecosystem-for-interactive-application-development"></a>
</h2>
<hr class="half-width">
<p>The <em>Shiny</em> package facilitates the development of interactive
data-oriented applications (such as data exploration tools, dashboards,
and user interfaces for data) in programming languages familiar to
empirical researchers and data scientists, such as R and Python, without
requiring any knowledge of traditional application development tools
HTML, CSS, JavaScript. Because Shiny applications are written using R or
Python, they are also able to leverage the powerful data manipulation,
visualization, and analysis capabilities of these scientific computing
languages, while wrapping them into a responsive and intuitive interface
that allows researchers to communicate insights and share their data in
an engaging and accessible manner. Shiny apps can be deployed locally or
hosted online, and allow you to create a useful bridge between data
analysis and statistical computing work (which other Carpentries lessons
introduce) and non-specialist downstream “consumers” of your
research.</p>
<p>There are several adjacent packages that add to the core
<em>Shiny</em> package’s functionality, and allow for the creation of
more sophisticated applications. Examples of packages within this
broader Shiny ecosystem include (but are not limited to):</p>
<ul>
<li>
<em>shinydashboard</em> offers functions that simplify the process
of dashboard creation</li>
<li>
<em>shinyWidgets</em> offers functions that allow one to enrich and
customize the user interface of Shiny applications</li>
<li>
<em>shinythemes</em> provides tools to customize the appearance of
Shiny applications</li>
<li>
<em>rsconnect</em> allows for the deployment of Shiny applications
to sites such as <a href="https://www.shinyapps.io" class="external-link">shinyapps.io</a> or
<a href="https://posit.co/products/enterprise/connect/" class="external-link">Posit
Connect</a>.</li>
</ul>
<p>Over the course of the Workshop, we will work with a variety of
packages within the broader <em>Shiny</em> ecosystem.</p>
</section><section><h2 class="section-heading" id="exploring-shiny-applications">Exploring Shiny Applications<a class="anchor" aria-label="anchor" href="#exploring-shiny-applications"></a>
</h2>
<hr class="half-width">
<p>Before proceeding to the next Episode, and getting started with the
process of building <em>Shiny</em> applications for your data, it can be
useful to survey some published applications created with Shiny.</p>
<div id="challenge-1-explore-shiny-applications" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="challenge-1-explore-shiny-applications" class="callout-inner">
<h3 class="callout-title">Challenge 1: Explore Shiny Applications</h3>
<div class="callout-content">
<p>Go to this <a href="https://shiny.posit.co/r/gallery/#user-showcase" class="external-link">online repository
of published Shiny applications</a> and look around. Are there any
applications you find especially appealing? What are some of its
relevant features and characteristics? After getting acquainted with
some “real world” Shiny applications, sketch out a rough prototype for a
Shiny application that could be relevant for your own work.</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<p>Discuss your observations and protoypes with a partner.</p>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>Interactive applications and dashboards are valuable tools for
presenting complex research data in an intuitive and engaging way,
particularly for non-specialist audiences.</li>
<li>Open science benefits from such applications because they can help
increase public understanding, enhance the visibility of research, and
support informed discourse on topics of public interest.</li>
<li>Shiny is an R package that allows researchers to create interactive
web applications and dashboards without needing to know web technologies
like HTML, CSS, or JavaScript.</li>
</ul>
</div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</section></section><section id="aio-02-shiny-fundamentals"><p>Content from <a href="02-shiny-fundamentals.html">Shiny Fundamentals</a></p>
<hr>
<p>Last updated on 2025-07-29 |

        <a href="https://github.com/aranganath24/data-dashboard-carpentries/edit/main/episodes/02-shiny-fundamentals.Rmd" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 12 minutes</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>What are the different components of a Shiny application and how do
they fit together?</li>
<li>How can we create, run, and view a simple Shiny application?</li>
<li>How can we create an interactive Shiny application that is
responsive to user inputs or requests?</li>
<li>How can we customize the appearance of a simple Shiny
application?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Explain how to use markdown with the new lesson template</li>
<li>Demonstrate how to include pieces of code, figures, and nested
challenge blocks</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="preliminaries">Preliminaries<a class="anchor" aria-label="anchor" href="#preliminaries"></a>
</h2>
<hr class="half-width">
<p>Before beginning this episode, please load the following
libraries”</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># load libraries</span></span>
<span><span class="kw">library</span><span class="op">(</span><span class="va">shiny</span><span class="op">)</span></span>
<span><span class="kw">library</span><span class="op">(</span><span class="va">shinythemes</span><span class="op">)</span></span>
<span><span class="kw">library</span><span class="op">(</span><span class="va">shinyjs</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>
Attaching package: 'shinyjs'</code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>The following object is masked from 'package:shiny':

    runExample</code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>The following objects are masked from 'package:methods':

    removeClass, show</code></pre>
</div>
</section><section><h2 class="section-heading" id="the-structure-of-a-shiny-application">The Structure of a Shiny Application<a class="anchor" aria-label="anchor" href="#the-structure-of-a-shiny-application"></a>
</h2>
<hr class="half-width">
<p>At the conclusion of the previous Episode, we examined some currently
published Shiny applications. Now, we’ll begin peeking “under the hood”
to see how these applications are put together, and how they work. Our
starting point is the observation that all Shiny applications, no matter
how complex, have three fundamental and interrelated building
blocks:</p>
<ul>
<li>A <strong>user interface (UI)</strong> that specifies the appearance
and layout of the application</li>
<li>A <strong>server</strong> that defines how an application generates
outputs in response to user inputs</li>
<li>A call to the <code>shinyApp()</code> function, which launches the
application by bringing together the <strong>UI</strong> and
<strong>server</strong>
</li>
</ul>
<p>The relationship between the user interface and server is dynamic and
bi-directional; the server provides substantive content (created using R
code) that populates the user interface, while the user interface
defines how that content is organized and displayed to users. This may
sound fairly abstract, but will hopefully come into focus as we
proceed.</p>
</section><section><h2 class="section-heading" id="our-first-application-hello-world">Our first application: Hello, World!<a class="anchor" aria-label="anchor" href="#our-first-application-hello-world"></a>
</h2>
<hr class="half-width">
<p>In this section, we’ll develop our very first Shiny application.
There’s a good chance that the first (or one of the first) things you
did in R was to print a “Hello, World” statement:</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># prints "Hello, World"</span></span>
<span><span class="fu">print</span><span class="op">(</span><span class="st">"Hello, World"</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] "Hello, World"</code></pre>
</div>
<p>Our goal in this section is to wrap this statement into a “Hello,
World” Shiny application.</p>
<div class="section level3">
<h3 id="a-note-on-application-files-and-directories">A note on application files and directories<a class="anchor" aria-label="anchor" href="#a-note-on-application-files-and-directories"></a>
</h3>
<p>First, though, it is important to briefly discuss where to write and
store your applications. Ideally, you should create a separate dedicated
directory for each application you write. For now, we’ll create our
application scripts, containing the UI and server code, in a familiar
<strong>.R</strong> file (but R Studio does have a handy pre-built
template for Shiny applications, which we’ll introduce later on). This
application directory can also contain other elements relevant to or
referenced by your application (such as image files, datasets, Readme
files etc.). As applications grow in complexity, it could make sense for
you to use subdirectories to organize your main application
directory.</p>
<p>Each R script should only contain the code for a single application;
trying to include the code for multiple applications in a single script
can cause errors or undefined behavior when you try to launch an
application (since Shiny may be confused about which application it’s
supposed to run). That said, in this episode, we’ll be creating and
running several simple “toy” applications to illustrate important Shiny
features. You can either save each application in separate scripts, or
write all of the applications in a single script while commenting out
the code for the application(s) you are NOT running; that way, you can
write code for several simple applications in one <strong>.R</strong>
file, while ensuring that only one script at a time is “live” when you
try to launch it.</p>
</div>
<div class="section level3">
<h3 id="writing-the-hello-world-application">Writing the “Hello, World” application<a class="anchor" aria-label="anchor" href="#writing-the-hello-world-application"></a>
</h3>
<p>Let’s first write out our application’s skeletal structure,
translating the three components we discussed above (the UI, server, and
<code>shinyApp()</code>) into actual Shiny code. After getting this
structure down, we’ll fill in elements to create the “Hello, World”
application below. Recall from above that the application’s UI defines
how the application <em>looks</em> (i.e. what are the inputs and
outputs, and how are they visually displayed), the server defines what
the application <em>does</em> and how it works (i.e. how inputs are
processed to generate outputs), and the call to <code>shinyApp()</code>
brings these elements together to launch the application.</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># UI: Layout and inputs/outputs go here</span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu">fluidPage</span><span class="op">(</span></span>
<span>  <span class="co"># Add UI code (specifying application's inputs, outputs, and layouts) here</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Server: Logic and reactivity go here</span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="co"># Add server code (specifying application's content) here</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Launch the app </span></span>
<span><span class="fu">shinyApp</span><span class="op">(</span><span class="va">ui</span>, <span class="va">server</span><span class="op">)</span></span></code></pre>
</div>
<p>Some aspects of this code require additional clarification.</p>
<ul>
<li>The <code>fluidPage()</code> function used in the creation of the UI
object is a Shiny layout function that creates a responsive web page
layout that automatically adjusts to different screen sizes. The
arguments to <code>fluidPage()</code>, will contain additional functions
that define the user interface.</li>
<li>Within the server function, “input” is used to access values the
user has entered or selected in the UI, while “output” is used to define
the content that is displayed within the UI. Sometimes, in more complex
applications with more sophisticated user interfaces, you will also see
a “session” argument in the server function, but that is beyond the
scope of our current workshop.</li>
</ul>
<p>Again, this may still seem a little but abstract, but will hopefully
come into focus as we proceed. You can launch an application from your
script by simply running the UI and server code, along with with
<code>shinyApp(ui, server)</code>:</p>
<figure style="text-align: center"><img src="../fig/fig2-launching-app.png" alt="Figure 2. Launching an App" class="figure mx-auto d-block"><figcaption>
Figure 2. Launching an App
</figcaption></figure><p>Since our application is still empty, launching it will generate a
blank page that looks something like this:</p>
<figure style="text-align: center"><img src="../fig/fig3-blank-page.png" alt="Figure 3. A Blank Application" class="figure mx-auto d-block"><figcaption>
Figure 3. A Blank Application
</figcaption></figure><p>Now, let’s go ahead and create our “Hello, World” app by adding this
text to the application structure we’ve defined above. It may not seem
intuitive at first, but we’ll unpack it after writing out the code and
launching the application.</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># UI: Layout and inputs/outputs go here</span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu">fluidPage</span><span class="op">(</span></span>
<span>  <span class="fu">textOutput</span><span class="op">(</span>outputId<span class="op">=</span><span class="st">"greeting"</span><span class="op">)</span>  <span class="co"># Placeholder for text</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Server: Logic and reactivity go here</span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="co"># Add server code (specifying application's text)</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">greeting</span> <span class="op">&lt;-</span> <span class="fu">renderText</span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="st">"Hello, World!"</span>  <span class="co"># application content</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Launch the app</span></span>
<span><span class="fu">shinyApp</span><span class="op">(</span><span class="va">ui</span>, <span class="va">server</span><span class="op">)</span></span></code></pre>
</div>
<p>When you go ahead and launch this application from your .R file,
you’ll see something that looks like this:</p>
<figure style="text-align: center"><img src="../fig/fig4-hello-world.png" alt="Figure 4. The 'Hello, World!' Application" class="figure mx-auto d-block"><figcaption>
Figure 4. The ‘Hello, World!’ Application
</figcaption></figure><p>Congratulations on writing your first Shiny application!</p>
<p>This application was simple–it’s just a blank web page with “Hello,
World!” written on it–but it’s certainly less intuitive than printing
that string to the console with <code>Hello, World</code>. The code
above needs some unpacking:</p>
<ul>
<li>
<code>textOutput()</code> is one of Shiny’s UI output functions; it
creates a placeholder in the user interface for a text string that will
be defined in the server. The argument to this function, “greeting”, is
an arbitrary identifier that will be used to link the text string
defined in the server back to this placeholder in the user interface. To
learn more about <code>textOutput()</code> please consult the
documentation with <code>?textOutput()</code>.</li>
<li>After creating the placeholder for text output in the UI, the server
defines what text will be displayed in the UI with
<code>output$greeting &lt;- renderText({"Hello, World!"})</code>.
<code>renderText()</code> is a server-side output function used to
generate the text displayed in the placeholder created by
<code>textOutput()</code>. In Shiny, <code>output()</code> is a special
object that is used to store content that will be displayed in the UI.
Shiny uses dollar sign notation to assign the content in the output
object to a specific UI placeholder, identified by its output ID. Here,
<code>output$greeting</code> connects the rendered text to the UI
placeholder identified by <code>outputId="greeting"</code>.</li>
</ul>
<div id="callout1" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Callout</h3>
<div class="callout-content">
<p>In Shiny, output functions determine what gets displayed in the
application. These are used to show text, plots, tables, or other
content, either by reserving space in the UI (UI output functions) or by
generating content in the server (server-side output functions).</p>
<ul>
<li><p>Output functions in the UI are sometimes referred to as
“placeholder functions” because they reserve space in the UI where
content created in the server will appear.</p></li>
<li><p>Output functions in the server are sometimes referred to as
“render functions”, because they generate (or “render”) the content that
fills the placeholders defined in the UI.</p></li>
</ul>
<p>Each render function in the server has a matching placeholder in the
UI. For example, in the simple “Hello, World!” app, the placeholder
function <code>textOutput()</code> reserves space in the UI, while the
corresponding render function <code>renderText()</code> generates the
text that will be shown there.</p>
<p>Shiny connects the two using <code>output$id</code> where “id”
matches the identifier given to the placeholder.The content returned by
the render function is displayed in the UI at the location specified by
the placeholder.</p>
</div>
</div>
</div>
<div id="challenge-1-make-your-own-text-app" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="challenge-1-make-your-own-text-app" class="callout-inner">
<h3 class="callout-title">Challenge 1: Make your own text app</h3>
<div class="callout-content">
<p>Using what you’ve learned above, make your own basic Shiny
application that communicates a message in simple text. Rather than
simply modifying the “Hello, World!” app, write it from scratch; this
will help you become familiar with Shiny’s syntax.</p>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="displaying-a-plot-in-a-shiny-application">Displaying a plot in a Shiny application<a class="anchor" aria-label="anchor" href="#displaying-a-plot-in-a-shiny-application"></a>
</h2>
<hr class="half-width">
<p>Instead of printing a text string in our application, let’s instead
create a Shiny application that displays a simple plot that’s generated
with some R code. Below, we generate 1000 random values from a normal
distribution with a mean of 0 and a standard deviation of 1, and assign
the resulting vector to a new object named <code>samples</code>. We then
plot a histogram of the <code>samples</code> data that’s divided into 30
bins:</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># create a vector of 1000 randomly generated values from a normal distribution with a mean of 0 and SD of 1</span></span>
<span><span class="va">samples</span> <span class="op">&lt;-</span> <span class="fu">rnorm</span><span class="op">(</span><span class="fl">1000</span>, mean <span class="op">=</span> <span class="fl">0</span>, sd <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># make a histogram of "samples" data</span></span>
<span><span class="fu">hist</span><span class="op">(</span><span class="va">samples</span>, breaks <span class="op">=</span> <span class="fl">30</span>, col <span class="op">=</span> <span class="st">"skyblue"</span>,</span>
<span>     main <span class="op">=</span> <span class="st">"Histogram of Normal Samples"</span>,</span>
<span>     xlab <span class="op">=</span> <span class="st">"Value"</span><span class="op">)</span></span></code></pre>
</div>
<figure><img src="../fig/02-shiny-fundamentals-rendered-unnamed-chunk-5-1.png" style="display: block; margin: auto;" class="figure mx-auto d-block"></figure><p>Let’s wrap this histogram into a simple Shiny app; we’ll do so in
much the same way we wrapped “Hello, World” into a Shiny app, with some
minor adjustments to account for the fact that we want to display a
plot, rather than text. In particular, we’ll use a new set of output
functions designed specifically for plots (rather than output functions
designed for text, as above). Let’s start by first creating the skeletal
structure for a blank application:</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># UI: Layout and inputs/outputs go here</span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu">fluidPage</span><span class="op">(</span></span>
<span>  <span class="co"># Add UI code (specifying application's inputs, outputs, and layouts) here</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Server: Logic and reactivity go here</span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="co"># Add server code (specifying application's content) here</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Launch the app </span></span>
<span><span class="fu">shinyApp</span><span class="op">(</span><span class="va">ui</span>, <span class="va">server</span><span class="op">)</span></span></code></pre>
</div>
<p>Now, let’s begin populating the application:</p>
<ul>
<li>In the “Hello, World!” application, we didn’t make a title for the
application. That can be a useful thing to do, so here, we’ll create a
title for the application using Shiny’s <code>titlePanel()</code>
function. We’ll name the application “Exploring the Normal
Distribution”, which we can pass as an argument to
<code>titlePanel()</code> in the UI.</li>
<li>We’ll create a placeholder for the plot in the UI using Shiny’s
<code>plotOutput()</code> function, and use “normal_plot” as the output
ID. Note that different elements in the UI are separated by a comma (in
this case, a comma separates the <code>titlePanel()</code> and
<code>plotOutput()</code> functions)</li>
<li>Then, in the server, we’ll wrap the code to make our plot within the
<code>renderPlot()</code> function, and assign this output back to the
UI using the “normal_plot” ID.</li>
</ul>
<p>Our application code should look something like this:</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># UI: Layout and inputs/outputs go here</span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu">fluidPage</span><span class="op">(</span></span>
<span>  <span class="co"># Add UI code (specifying application's inputs, outputs, and layouts) here</span></span>
<span>  <span class="fu">titlePanel</span><span class="op">(</span><span class="st">"Exploring the Normal Distribution"</span><span class="op">)</span>,</span>
<span>  <span class="fu">plotOutput</span><span class="op">(</span>outputId <span class="op">=</span> <span class="st">"normal_plot"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Server: Logic and reactivity go here</span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="co"># Add server code (specifying application's content) here</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">normal_plot</span><span class="op">&lt;-</span><span class="fu">renderPlot</span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="co"># create vector</span></span>
<span>    <span class="va">samples</span> <span class="op">&lt;-</span> <span class="fu">rnorm</span><span class="op">(</span><span class="fl">1000</span>, mean <span class="op">=</span> <span class="fl">0</span>, sd <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span>    </span>
<span>    <span class="co"># make a histogram of "samples" data</span></span>
<span>    <span class="fu">hist</span><span class="op">(</span><span class="va">samples</span>, breaks <span class="op">=</span> <span class="fl">30</span>, col <span class="op">=</span> <span class="st">"skyblue"</span>,</span>
<span>         main <span class="op">=</span> <span class="st">"Histogram of Normal Samples"</span>,</span>
<span>         xlab <span class="op">=</span> <span class="st">"Value"</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Launch the app </span></span>
<span><span class="fu">shinyApp</span><span class="op">(</span><span class="va">ui</span>, <span class="va">server</span><span class="op">)</span></span></code></pre>
</div>
<p>When you’re ready, go ahead and launch the application. It will look
something like this:</p>
<figure style="text-align: center"><img src="../fig/fig5-exploring-normal.png" alt="Figure 5. The Normal Plot Application" class="figure mx-auto d-block"><figcaption>
Figure 5. The Normal Plot Application
</figcaption></figure></section><section><h2 class="section-heading" id="applications-with-multiple-outputs">Applications with multiple outputs<a class="anchor" aria-label="anchor" href="#applications-with-multiple-outputs"></a>
</h2>
<hr class="half-width">
<p>The “Hello, World!” application displayed a text output, while the
app we just created displayed a plot output. There’s no reason why a
Shiny application cannot include many different types of outputs
(indeed, most “real world” Shiny apps do!). Let’s now make a slightly
more complex application that incorporates both text and plot outputs;
we’ll use the same plot as above, and add some text to provide some
additional context, using <code>textOutput()</code> to create a
placeholder in the UI, and the <code>renderText()</code> function to
create the message we’d like to display. The output created using
<code>renderText()</code> is assigned back to the UI placeholder by
using dollar sign notation to reference the output ID specified in
<code>textOutput()</code>. Your application code should look something
like the following:</p>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># UI: Layout and inputs/outputs go here</span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu">fluidPage</span><span class="op">(</span></span>
<span>  <span class="co"># Add UI code (specifying application's inputs, outputs, and layouts) here</span></span>
<span>  <span class="fu">titlePanel</span><span class="op">(</span><span class="st">"Exploring the Normal Distribution"</span><span class="op">)</span>,</span>
<span>  <span class="fu">textOutput</span><span class="op">(</span>outputId<span class="op">=</span><span class="st">"context_discussion"</span><span class="op">)</span>,</span>
<span>  <span class="fu">plotOutput</span><span class="op">(</span>outputId <span class="op">=</span> <span class="st">"normal_plot"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Server: Logic and reactivity go here</span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="co"># Add server code (specifying application's content) here</span></span>
<span>  </span>
<span>  <span class="co"># creates text output</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">context_discussion</span><span class="op">&lt;-</span><span class="fu">renderText</span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="st">"This histogram shows 1,000 values randomly drawn from a standard normal distribution. Most values fall between -3 and 3, with a peak around 0."</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># creates plot output</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">normal_plot</span><span class="op">&lt;-</span><span class="fu">renderPlot</span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="co"># create vector</span></span>
<span>    <span class="va">samples</span> <span class="op">&lt;-</span> <span class="fu">rnorm</span><span class="op">(</span><span class="fl">1000</span>, mean <span class="op">=</span> <span class="fl">0</span>, sd <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span>    </span>
<span>    <span class="co"># make a histogram of "samples" data</span></span>
<span>    <span class="fu">hist</span><span class="op">(</span><span class="va">samples</span>, breaks <span class="op">=</span> <span class="fl">30</span>, col <span class="op">=</span> <span class="st">"skyblue"</span>,</span>
<span>         main <span class="op">=</span> <span class="st">"Histogram of Normal Samples"</span>,</span>
<span>         xlab <span class="op">=</span> <span class="st">"Value"</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Launch the app </span></span>
<span><span class="fu">shinyApp</span><span class="op">(</span><span class="va">ui</span>, <span class="va">server</span><span class="op">)</span></span></code></pre>
</div>
<p>Now, let’s go ahead and launch our application, and see what it looks
like:</p>
<figure style="text-align: center"><img src="../fig/fig6-exploring-normal-text.png" alt="Figure 6. The Normal Plot Application With Text" class="figure mx-auto d-block"><figcaption>
Figure 6. The Normal Plot Application With Text
</figcaption></figure><p>Note the text above the plot in this modified application.</p>
<div id="challenge-2-change-an-applications-layout" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="challenge-2-change-an-applications-layout" class="callout-inner">
<h3 class="callout-title">Challenge 2: Change an application’s layout</h3>
<div class="callout-content">
<p>In the application we just created, the written text providing
relevant context is situated above the plot. Modify the application code
so that it’s instead below the plot.</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<p>To make this change, you can simply move <code>textOutput()</code>
function below the <code>plotOutput()</code> function in the UI. There
is no need to change the order of anything in the server; the order in
which elements is displayed is solely governed by the UI code. The code
for a modified application with the text element below the plot looks as
follows:</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># UI: Layout and inputs/outputs go here</span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu">fluidPage</span><span class="op">(</span></span>
<span>  <span class="co"># Add UI code (specifying application's inputs, outputs, and layouts) here</span></span>
<span>  <span class="fu">titlePanel</span><span class="op">(</span><span class="st">"Exploring the Normal Distribution"</span><span class="op">)</span>,</span>
<span>  <span class="fu">plotOutput</span><span class="op">(</span>outputId <span class="op">=</span> <span class="st">"normal_plot"</span><span class="op">)</span>,</span>
<span>  <span class="fu">textOutput</span><span class="op">(</span>outputId<span class="op">=</span><span class="st">"context_discussion"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Server: Logic and reactivity go here</span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="co"># Add server code (specifying application's content) here</span></span>
<span>  </span>
<span>  <span class="co"># creates text output</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">context_discussion</span><span class="op">&lt;-</span><span class="fu">renderText</span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="st">"This histogram shows 1,000 values randomly drawn from a standard normal distribution. Most values fall between -3 and 3, with a peak around 0."</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># creates plot output</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">normal_plot</span><span class="op">&lt;-</span><span class="fu">renderPlot</span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="co"># create vector</span></span>
<span>    <span class="va">samples</span> <span class="op">&lt;-</span> <span class="fu">rnorm</span><span class="op">(</span><span class="fl">1000</span>, mean <span class="op">=</span> <span class="fl">0</span>, sd <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span>    </span>
<span>    <span class="co"># make a histogram of "samples" data</span></span>
<span>    <span class="fu">hist</span><span class="op">(</span><span class="va">samples</span>, breaks <span class="op">=</span> <span class="fl">30</span>, col <span class="op">=</span> <span class="st">"skyblue"</span>,</span>
<span>         main <span class="op">=</span> <span class="st">"Histogram of Normal Samples"</span>,</span>
<span>         xlab <span class="op">=</span> <span class="st">"Value"</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Launch the app </span></span>
<span><span class="fu">shinyApp</span><span class="op">(</span><span class="va">ui</span>, <span class="va">server</span><span class="op">)</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="a-conceptual-overview-of-interactive-applications">A conceptual overview of interactive applications<a class="anchor" aria-label="anchor" href="#a-conceptual-overview-of-interactive-applications"></a>
</h2>
<hr class="half-width">
<p>So far, we have learned about the basic structure of Shiny
applications and how to populate them with content by linking output
functions in the UI (placeholder functions) with output functions in the
server (render functions). You may have noticed that the applications we
have built so far are static, in the sense that they don’t respond
dynamically to user input. However, static applications have limited
utility, and much of the power and usefulness of Shiny applications
comes from their ability to dynamically respond to user input.</p>
<div class="section level3">
<h3 id="input-functions">Input Functions<a class="anchor" aria-label="anchor" href="#input-functions"></a>
</h3>
<p>To build dynamic, interactive applications, we need to introduce a
new class of Shiny functions: input functions. Input functions are UI
functions that create interactive elements where users can enter or
select information (such as text boxes, sliders, check boxes, or radio
buttons). This user input can then determine what gets displayed in the
app.</p>
<p>For example, imagine an app that contains some text output in the UI,
and radio buttons that let the user choose a language. If the user
selects “English”, the text appears in English; if they select
“Spanish”, it appears in Spanish. The function that creates these radio
buttons in Shiny is considered an input function.</p>
</div>
<div class="section level3">
<h3 id="reactivity">Reactivity<a class="anchor" aria-label="anchor" href="#reactivity"></a>
</h3>
<p>In Shiny, applications respond to user input by automatically
recalculating and updating outputs whenever their underlying inputs
change. For example, if a user adjusts a slider input specifying a date
range, any outputs depending on that slider (i.e. a plot, text, table
etc.) will automatically update without needing to refresh or re-run the
app. This concept is known as <em>reactivity</em>.</p>
<p>Reactivity is built into Shiny functions. For example, the
server-side <code>renderPlot()</code> function can explicitly reference
input values (we’ll see how to do this below); the plot will
automatically re-render whenever the user changes a relevant input
value. In other words, render functions “listen” for changes in inputs
and update their output value accordingly.</p>
<p>It’s worth highlighting how unique reactive behavior in Shiny is,
compared to the way the R programming language works more generally. In
particular, traditional R code is emphatically <em>not</em> reactive. To
make this more concrete, let’s consider an example. First, we’ll define
two new objects, <code>x</code> and <code>y</code>”</p>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># defines objects x and y</span></span>
<span><span class="va">x</span><span class="op">&lt;-</span><span class="fl">5</span></span>
<span><span class="va">y</span><span class="op">&lt;-</span><span class="va">x</span><span class="op">+</span><span class="fl">1</span></span></code></pre>
</div>
<p>As expected, we can see the value of <code>y</code> is 6:</p>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># prints value of y</span></span>
<span><span class="va">y</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] 6</code></pre>
</div>
<p>Now, let’s change the value of of <code>x</code> to 10:</p>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># assigns new value of 10 to object x</span></span>
<span><span class="va">x</span><span class="op">&lt;-</span><span class="fl">10</span></span></code></pre>
</div>
<p>Now, what is the value of <code>y</code>? As you likely know from
your previous experience with R, the value of y would remain
unchanged:</p>
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># prints value of y</span></span>
<span><span class="va">y</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] 6</code></pre>
</div>
<p>This is the essence of <em>non-reactive</em> behavior: R does not
automatically re-calculate the value of <code>y</code> after the change
in <code>x</code>. In order for the updated value of <code>x</code> to
be reflected in the value of <code>y</code>, it would be necessary to
re-run <code>y&lt;-x+1</code>. However, in a reactive context such as
Shiny, outputs automatically update whenever their dependent inputs
change. For example, if <code>x</code> were controlled by a user input
(e.g. a slider), and <code>y</code> was displayed in the app using
<code>renderText()</code>, then an app user updating the slider would
automatically trigger a recalculation of y, without needing to re-run
any code. This is the essence of reactivity in Shiny: it allows your
applications to respond automatically to user input, without manual
intervention or re-running code.</p>
</div>
</section><section><h2 class="section-heading" id="writing-interactive-applications">Writing interactive applications<a class="anchor" aria-label="anchor" href="#writing-interactive-applications"></a>
</h2>
<hr class="half-width">
<p>With those concepts in mind, let’s now turn to writing some simple
interactive applications that use input functions and utilize Shiny’s
reactive capabilities. We’ll start by modifying our previous “Hello,
World!” application. Rather than having the application always display
the same static “Hello, World!” greeting, we’ll allow the user to enter
their own greeting using a text box. By default, the app will display
“Hello, World!”, but users can replace this with a custom message-making
the application dynamic and interactive (though still, of course, very
simple). We can generate such an application with the following:</p>
<div class="section level3">
<h3 id="interactive-greeting-applications">Interactive Greeting Applications<a class="anchor" aria-label="anchor" href="#interactive-greeting-applications"></a>
</h3>
<div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># UI: Layout and inputs/outputs go here</span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu">fluidPage</span><span class="op">(</span></span>
<span>  <span class="fu">titlePanel</span><span class="op">(</span><span class="st">"Greeting Application"</span><span class="op">)</span>,</span>
<span>  </span>
<span>  <span class="co"># Input: Text box for user to input their own message</span></span>
<span>  <span class="fu">textInput</span><span class="op">(</span>inputId <span class="op">=</span> <span class="st">"user_input"</span>, label <span class="op">=</span> <span class="st">"Enter your greeting:"</span>, value <span class="op">=</span> <span class="st">"Hello, World!"</span><span class="op">)</span>,</span>
<span>  </span>
<span>  <span class="co"># Output: Display the greeting</span></span>
<span>  <span class="fu">textOutput</span><span class="op">(</span>outputId <span class="op">=</span> <span class="st">"greeting"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Server: Logic and reactivity go here</span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span><span class="op">)</span> <span class="op">{</span></span>
<span>  </span>
<span>  <span class="co"># Reactive output based on user input</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">greeting</span> <span class="op">&lt;-</span> <span class="fu">renderText</span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="fu">paste0</span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">user_input</span><span class="op">)</span>  <span class="co"># Dynamically update the greeting based on input</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Launch the app </span></span>
<span><span class="fu">shinyApp</span><span class="op">(</span><span class="va">ui</span>, <span class="va">server</span><span class="op">)</span></span></code></pre>
</div>
<p>Let’s unpack the code above:</p>
<ul>
<li>We use the <code>titlePanel()</code> function in the UI to give the
application a title, “Greeting Application”.</li>
<li>We then call <code>textInput()</code> within the UI. This is an
input function that creates a text box where users can type in a custom
greeting. Just as output placeholder functions have identifiers that can
be used to refer to them in the server, so do input functions. The first
argument, <code>inputId="user_input"</code>, gives the input a unique
ID. The second argument specifies a label that users will see above the
text box. Finally, the “value” argument specifies the default starting
value for the text box.</li>
<li>The final element of the UI is a call to <code>textOutput()</code>,
which reserves space in the UI for displaying the greeting. The argument
to this function is an ID used in the server to link the actual output
to this placeholder.</li>
<li>In the server, we use <code>renderText()</code> to specify the
output text that will be shown. We reference the user’s input using
<code>input$user_input</code> and return it using <code>paste0()</code>
to create the final output. The use of <code>input$user_input</code> to
refer to the user-supplied input within the <code>renderText()</code>
function ensures the output updates automatically whenever the user
changes their input. This demonstrates reactivity in action.</li>
</ul>
<p>When you run the application, you’ll initially get a result that
looks like this:</p>
<figure style="text-align: center"><img src="../fig/fig7-greeting.png" alt="Figure 7. The Interactive Greeting App with Default Value" class="figure mx-auto d-block"><figcaption>
Figure 7. The Interactive Greeting App with Default Value
</figcaption></figure><p>When you change the value in the text box, the output text will also
change. For example, if we go ahead and change the greeting in the text
box to “Hi there :)”, this change will be reflected in the output:</p>
<figure style="text-align: center"><img src="../fig/fig8-greeting-modified.png" alt="Figure 8. The Interactive Greeting App with a new user-supplied input" class="figure mx-auto d-block"><figcaption>
Figure 8. The Interactive Greeting App with a new user-supplied input
</figcaption></figure><p>Let’s now tweak this “greeting” application, which will help you
become familiar with another input function, and get some more practice
writing reactive code. In particular, instead of letting users write any
text they wish into the text box, let’s modify the app to invite users
to select a greeting from a drop-down menu that presents a few different
greetings to choose from; the chosen greeting will be printed as the
output. We can keep all aspects of the code for the initial greeting
application the same; we just have to change the input function from
<code>textInput()</code> (which creates a text box) to
<code>selectInput()</code> which creates a drop-down menu with choices
defined within one of the function’s arguments. For more information,
check the <code>selectInput()</code> function’s documentation. The
modified code will look something like this:</p>
<div class="codewrapper sourceCode" id="cb21">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># UI: Layout and inputs/outputs go here</span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu">fluidPage</span><span class="op">(</span></span>
<span>  <span class="fu">titlePanel</span><span class="op">(</span><span class="st">"Greeting Application"</span><span class="op">)</span>,</span>
<span>  </span>
<span>  <span class="co"># Input: Dropdown menu for user to select a greeting</span></span>
<span>  <span class="fu">selectInput</span><span class="op">(</span></span>
<span>    inputId <span class="op">=</span> <span class="st">"user_input"</span>,</span>
<span>    label <span class="op">=</span> <span class="st">"Choose your greeting:"</span>,</span>
<span>    choices <span class="op">=</span> <span class="fu">c</span><span class="op">(</span><span class="st">"Hello, World!"</span>, <span class="st">"Hi there :)"</span>, <span class="st">"What's up?"</span>, <span class="st">"Nice to meet you"</span><span class="op">)</span>,</span>
<span>    selected <span class="op">=</span> <span class="st">"Hello, World!"</span></span>
<span>  <span class="op">)</span>,</span>
<span>  </span>
<span>  <span class="co"># Output: Display the selected greeting</span></span>
<span>  <span class="fu">textOutput</span><span class="op">(</span>outputId <span class="op">=</span> <span class="st">"greeting"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Server: Logic and reactivity go here</span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span><span class="op">)</span> <span class="op">{</span></span>
<span>  </span>
<span>  <span class="co"># Reactive output based on selected greeting</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">greeting</span> <span class="op">&lt;-</span> <span class="fu">renderText</span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="va">input</span><span class="op">$</span><span class="va">user_input</span>  <span class="co"># Display the selected greeting</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Launch the app </span></span>
<span><span class="fu">shinyApp</span><span class="op">(</span><span class="va">ui</span>, <span class="va">server</span><span class="op">)</span></span></code></pre>
</div>
<p>When it is launched, the app looks something like this:</p>
<figure style="text-align: center"><img src="../fig/fig9-greeting-dropdown-launch.png" alt="Figure 9. The Interactive Greeting App with dropdown Menu" class="figure mx-auto d-block"><figcaption>
Figure 9. The Interactive Greeting App with dropdown Menu
</figcaption></figure><p>The user can select the desired greeting from the drop-down menu;
let’s say they want the “Nice to meet you” greeting:</p>
<figure style="text-align: center"><img src="../fig/fig10-greeting-dropdown-select.png" alt="Figure 10. Selecting an option from the interactive greeting app's dropdown menu" class="figure mx-auto d-block"><figcaption>
Figure 10. Selecting an option from the interactive greeting app’s
dropdown menu
</figcaption></figure><p>After the selection is made, the corresponding text is printed as
text output:</p>
<figure style="text-align: center"><img src="../fig/fig11-greeting-dropdown-output.png" alt="Figure 11. Text output after selecting an input from the dropdown menu" class="figure mx-auto d-block"><figcaption>
Figure 11. Text output after selecting an input from the dropdown menu
</figcaption></figure><div id="challenge-3-modify-the-greeting-application-to-use-radio-buttons" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="challenge-3-modify-the-greeting-application-to-use-radio-buttons" class="callout-inner">
<h3 class="callout-title">Challenge 3: Modify the greeting application to use radio buttons</h3>
<div class="callout-content">
<p>Replace the drop down menu in the app we just created with radio
buttons, using the <code>radioButtons()</code> input function. You may
have to consult the function’s documentation to specify the necessary
arguments. Make sure to create a label, and a default selection. Use the
same greeting options we used for the dropdown menu above.</p>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Show me the solution </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" aria-labelledby="headingSolution2" data-bs-parent="#accordionSolution2">
<div class="accordion-body">
<p>To make this change, you can replace <code>selectInput()</code> with
<code>radioButtons()</code>, while keeping the remaining code unchanged.
It will look something like this:</p>
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># UI: Layout and inputs/outputs go here</span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu">fluidPage</span><span class="op">(</span></span>
<span>  <span class="fu">titlePanel</span><span class="op">(</span><span class="st">"Greeting Application"</span><span class="op">)</span>,</span>
<span>  </span>
<span>  <span class="co"># Input: Radio buttons for user to select a greeting</span></span>
<span>  <span class="fu">radioButtons</span><span class="op">(</span></span>
<span>    inputId <span class="op">=</span> <span class="st">"user_input"</span>,</span>
<span>    label <span class="op">=</span> <span class="st">"Choose your greeting:"</span>,</span>
<span>    choices <span class="op">=</span> <span class="fu">c</span><span class="op">(</span><span class="st">"Hello, World!"</span>, <span class="st">"Hi there :)"</span>, <span class="st">"What's up?"</span>, <span class="st">"Nice to meet you"</span><span class="op">)</span>,</span>
<span>    selected <span class="op">=</span> <span class="st">"Hello, World!"</span></span>
<span>  <span class="op">)</span>,</span>
<span>  </span>
<span>  <span class="co"># Output: Display the selected greeting</span></span>
<span>  <span class="fu">textOutput</span><span class="op">(</span>outputId <span class="op">=</span> <span class="st">"greeting"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Server: Logic and reactivity go here</span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span><span class="op">)</span> <span class="op">{</span></span>
<span>  </span>
<span>  <span class="co"># Reactive output based on selected greeting</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">greeting</span> <span class="op">&lt;-</span> <span class="fu">renderText</span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="va">input</span><span class="op">$</span><span class="va">user_input</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Launch the app </span></span>
<span><span class="fu">shinyApp</span><span class="op">(</span><span class="va">ui</span>, <span class="va">server</span><span class="op">)</span></span></code></pre>
</div>
<p>Once launched, the modified application will look something like
this:</p>
<figure style="text-align: center"><img src="../fig/fig12-greeting-radio.png" alt="Figure 12. Greeting App with Radio Buttons" class="figure mx-auto d-block"><figcaption>
Figure 12. Greeting App with Radio Buttons
</figcaption></figure>
</div>
</div>
</div>
</div>
<p>Let’s now create a slightly different greeting app in which the user
provides their name, and the application responds with a personal
greeting. We can develop this application with some now-familiar
functions:</p>
<div class="codewrapper sourceCode" id="cb23">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># UI</span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu">fluidPage</span><span class="op">(</span></span>
<span>  <span class="fu">titlePanel</span><span class="op">(</span><span class="st">"Personal Greeting App"</span><span class="op">)</span>,</span>
<span></span>
<span>  <span class="co"># Text input for the user's name</span></span>
<span>  <span class="fu">textInput</span><span class="op">(</span>inputId<span class="op">=</span><span class="st">"name"</span>, label<span class="op">=</span><span class="st">"What is your name?"</span><span class="op">)</span>,</span>
<span></span>
<span>  <span class="co"># Output: Greeting text</span></span>
<span>  <span class="fu">textOutput</span><span class="op">(</span>outputId<span class="op">=</span><span class="st">"greeting"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Server</span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">greeting</span> <span class="op">&lt;-</span> <span class="fu">renderText</span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="fu">paste0</span><span class="op">(</span><span class="st">"Hello, "</span>, <span class="va">input</span><span class="op">$</span><span class="va">name</span>, <span class="st">"! Nice to meet you."</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Run the app</span></span>
<span><span class="fu">shinyApp</span><span class="op">(</span>ui <span class="op">=</span> <span class="va">ui</span>, server <span class="op">=</span> <span class="va">server</span><span class="op">)</span></span></code></pre>
</div>
<p>When you launch the application, it looks something like this:</p>
<figure style="text-align: center"><img src="../fig/fig13-personal-greeting.png" alt="Figure 13. Personal Greeting App" class="figure mx-auto d-block"><figcaption>
Figure 13. Personal Greeting App
</figcaption></figure><p>When a name is typed into the text box, the output updates
accordingly:</p>
<figure style="text-align: center"><img src="../fig/fig14-personal-greeting-name.png" alt="Figure 14. Personal Greeting App Output" class="figure mx-auto d-block"><figcaption>
Figure 14. Personal Greeting App Output
</figcaption></figure><p>One potential design limitation of this simple application is that
before the name is entered into the text box, the output “Hello, ! Nice
to meet you.” looks awkward. It may be desirable to hide this output
before the name is entered, and only show the complete output once the
name is actually entered into the box. We can accomplish this by
inserting the conditional statement
<code>if (input$name == "") return(NULL)</code> in the
<code>renderText()</code> function before the <code>paste0()</code>
function. This essentially says “If the name field is blank, do not
return an output.” The modified script looks like this:</p>
<div class="codewrapper sourceCode" id="cb24">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># UI</span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu">fluidPage</span><span class="op">(</span></span>
<span>  <span class="fu">titlePanel</span><span class="op">(</span><span class="st">"Personal Greeting App"</span><span class="op">)</span>,</span>
<span></span>
<span>  <span class="co"># Text input for the user's name</span></span>
<span>  <span class="fu">textInput</span><span class="op">(</span>inputId<span class="op">=</span><span class="st">"name"</span>, label<span class="op">=</span><span class="st">"What is your name?"</span><span class="op">)</span>,</span>
<span></span>
<span>  <span class="co"># Output: Greeting text</span></span>
<span>  <span class="fu">textOutput</span><span class="op">(</span>outputId<span class="op">=</span><span class="st">"greeting"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Server</span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">greeting</span> <span class="op">&lt;-</span> <span class="fu">renderText</span><span class="op">(</span><span class="op">{</span></span>
<span>   <span class="kw">if</span> <span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">name</span> <span class="op">==</span> <span class="st">""</span><span class="op">)</span> <span class="kw">return</span><span class="op">(</span><span class="cn">NULL</span><span class="op">)</span></span>
<span>    <span class="fu">paste0</span><span class="op">(</span><span class="st">"Hello, "</span>, <span class="va">input</span><span class="op">$</span><span class="va">name</span>, <span class="st">"! Nice to meet you."</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Run the app</span></span>
<span><span class="fu">shinyApp</span><span class="op">(</span>ui <span class="op">=</span> <span class="va">ui</span>, server <span class="op">=</span> <span class="va">server</span><span class="op">)</span></span></code></pre>
</div>
<p>Now, when we launch the app, we’ll see an interface that looks like
this:</p>
<figure style="text-align: center"><img src="../fig/fig15-revised-personal-greeting-blank.png" alt="Figure 15. Launching the Revised Personal Greeting App" class="figure mx-auto d-block"><figcaption>
Figure 15. Launching the Revised Personal Greeting App
</figcaption></figure><p>The application will return the full output in response to the user
entering their name in the text field:</p>
<figure style="text-align: center"><img src="../fig/fig16-revised-personal-greeting-filled.png" alt="Figure 16. User-Prompted Output in the Revised Personal Greeting App" class="figure mx-auto d-block"><figcaption>
Figure 16. User-Prompted Output in the Revised Personal Greeting App
</figcaption></figure><p>Let’s build on this to make a slighly more complex personal greeting
application. In particular, we’ll write an application that requests two
different inputs from the user, using two different methods. We’ll ask
the user their name, which they’ll supply in a text box. We’ll also ask
the user if this is their first Carpentries workshop, which they’ll
answer by filling in a radio button (Yes/No). If it is their first
Carpentries workshop, the following text output is returned: “Hello,
<name>. Welcome to the Carpentries!”. If it is NOT their first
Carpentries workshop, the following text output is returned: “Hello,
<name>. Welcome back to the Carpentries!”.</name></name></p>
<p>This interactive application is more complex than the others we’ve
written so far, but uses techniques and functions we’re already familiar
with. The UI includes two input functions, <code>textInput()</code> and
<code>radioButtons</code> that are referenced in the server, within
conditional statements in the <code>renderText()</code> function:</p>
<div class="codewrapper sourceCode" id="cb25">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># UI</span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu">fluidPage</span><span class="op">(</span></span>
<span>  <span class="fu">titlePanel</span><span class="op">(</span><span class="st">"Carpentries Greeting"</span><span class="op">)</span>,</span>
<span></span>
<span>  <span class="co"># Ask for user's name</span></span>
<span>  <span class="fu">textInput</span><span class="op">(</span>inputId <span class="op">=</span> <span class="st">"name"</span>, label<span class="op">=</span><span class="st">"What is your name?"</span><span class="op">)</span>,</span>
<span></span>
<span>  <span class="co"># Ask if they're new</span></span>
<span>  <span class="fu">radioButtons</span><span class="op">(</span>inputId <span class="op">=</span> <span class="st">"new"</span>, </span>
<span>               label <span class="op">=</span> <span class="st">"Are you new to the Carpentries?"</span>,</span>
<span>               choices <span class="op">=</span> <span class="fu">c</span><span class="op">(</span><span class="st">"Yes"</span>, <span class="st">"No"</span><span class="op">)</span>, </span>
<span>                selected <span class="op">=</span> <span class="fu">character</span><span class="op">(</span><span class="fl">0</span><span class="op">)</span><span class="op">)</span>, <span class="co"># No default selection</span></span>
<span></span>
<span>  <span class="co"># Display greeting</span></span>
<span>  <span class="fu">textOutput</span><span class="op">(</span>outputId <span class="op">=</span> <span class="st">"greeting"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Server</span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">greeting</span> <span class="op">&lt;-</span> <span class="fu">renderText</span><span class="op">(</span><span class="op">{</span></span>
<span>     <span class="co"># Don't show anything unless both inputs are filled</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">name</span> <span class="op">==</span> <span class="st">""</span> <span class="op">||</span> <span class="fu">is.null</span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">new</span><span class="op">)</span><span class="op">)</span> <span class="kw">return</span><span class="op">(</span><span class="cn">NULL</span><span class="op">)</span></span>
<span></span>
<span>    <span class="co"># Build greeting based on response</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">new</span> <span class="op">==</span> <span class="st">"Yes"</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="fu">paste0</span><span class="op">(</span><span class="st">"Hello "</span>, <span class="va">input</span><span class="op">$</span><span class="va">name</span>, <span class="st">", welcome to the Carpentries."</span><span class="op">)</span></span>
<span>    <span class="op">}</span> <span class="kw">else</span> <span class="kw">if</span> <span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">new</span> <span class="op">==</span> <span class="st">"No"</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="fu">paste0</span><span class="op">(</span><span class="st">"Hello "</span>, <span class="va">input</span><span class="op">$</span><span class="va">name</span>, <span class="st">", welcome back to the Carpentries."</span><span class="op">)</span></span>
<span>    <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>      <span class="cn">NULL</span>  <span class="co"># If no radio button is selected yet</span></span>
<span>    <span class="op">}</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Run the app</span></span>
<span><span class="fu">shinyApp</span><span class="op">(</span>ui <span class="op">=</span> <span class="va">ui</span>, server <span class="op">=</span> <span class="va">server</span><span class="op">)</span></span></code></pre>
</div>
<p>When the resulting app is launched, it looks like this:</p>
<figure style="text-align: center"><img src="../fig/fig17-carpentries-introduction.png" alt="Figure 17.Carpentries Introduction App" class="figure mx-auto d-block"><figcaption>
Figure 17.Carpentries Introduction App
</figcaption></figure><p>After the user provides their name and clicks the relevant radio
button, the text output responds with the appropriate message:</p>
<figure style="text-align: center"><img src="../fig/fig18-carpentries-introduction-filled.png" alt="Figure 18.Carpentries Introduction App Text Output" class="figure mx-auto d-block"><figcaption>
Figure 18.Carpentries Introduction App Text Output
</figcaption></figure><div id="challenge-4-explain-the-logic-of-the-carpentries-greeting-app-in-your-own-words" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="challenge-4-explain-the-logic-of-the-carpentries-greeting-app-in-your-own-words" class="callout-inner">
<h3 class="callout-title">Challenge 4: Explain the logic of the Carpentries greeting app in your own words</h3>
<div class="callout-content">
<p>Work with a partner, and in your own words, take turns explaining how
the application we’ve just written is put together. Focus on input
functions, output functions, and the server logic.</p>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3"> Show me the solution </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" aria-labelledby="headingSolution3" data-bs-parent="#accordionSolution3">
<div class="accordion-body">
<p>Here is a sample explanation: This Shiny app has two main parts: the
UI (user interface) and the server (logic). In the UI, we use
<code>textInput()</code> to ask the user for their name and
<code>radioButtons()</code> to ask whether they are new to the
Carpentries. We set <code>selected = character(0)</code> in the radio
button to ensure that no option is selected by default. We also include
<code>textOutput()</code> as a placeholder where the final greeting
message will appear.</p>
<p>In the server function, we use <code>renderText()</code> to generate
the greeting based on the user’s input. Inside
<code>renderText()</code>, the line
<code>if (input$name == "" || is.null(input$new)) return(NULL)</code>
plays an important role: it tells the app to hold off on showing any
message until both the name and the radio button response are provided.
The <code>input$name == ""</code> part checks whether the name text box
is empty. The <code>is.null(input$new)</code> part checks whether the
user has not yet selected a radio button. The <code>||</code> means “or”
— so if either of these conditions is true, the function returns NULL
(i.e., nothing is shown). Once both inputs are present, the app uses
<code>paste0()</code> to construct a personalized greeting, depending on
whether the user selected “Yes” or “No”, and displays it using the
<code>textOutput()</code> placeholder.</p>
</div>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="interactive-plot-applications">Interactive Plot Applications<a class="anchor" aria-label="anchor" href="#interactive-plot-applications"></a>
</h3>
<p>Having explored several interactive variations on our static “Hello,
World!” application, let’s now turn to our static plot application
above, and turn it into an interactive application using Shiny’s
reactive functions. Let’s modify the code we used to create the static
plot, and use reactive input functions to allow users to specify the
number of bins in the histogram. To do so, we’ll use
<code>numericInput()</code> within the UI, which gives users a text box
in which they can specify the desired number of bins; in the server,
we’ll replace the number 30 with <code>input$desired_bins</code>, which
sets the “breaks” argument equal to the number specified by the user
(using dollar sign notation to reference this number using the
<code>numericInput</code> function’s input ID):</p>
<div class="codewrapper sourceCode" id="cb26">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># UI: Layout and inputs/outputs go here</span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu">fluidPage</span><span class="op">(</span></span>
<span>  <span class="co"># Add UI code (specifying application's inputs, outputs, and layouts) here</span></span>
<span>  <span class="fu">titlePanel</span><span class="op">(</span><span class="st">"Exploring the Normal Distribution"</span><span class="op">)</span>,</span>
<span>  <span class="fu">numericInput</span><span class="op">(</span>inputId <span class="op">=</span> <span class="st">"desired_bins"</span>, </span>
<span>               label<span class="op">=</span><span class="st">"Please enter the desired number of bins"</span>,</span>
<span>               value<span class="op">=</span><span class="fl">30</span><span class="op">)</span>,</span>
<span>  <span class="fu">plotOutput</span><span class="op">(</span>outputId <span class="op">=</span> <span class="st">"normal_plot"</span><span class="op">)</span>,</span>
<span>  <span class="fu">textOutput</span><span class="op">(</span>outputId<span class="op">=</span><span class="st">"context_discussion"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Server: Logic and reactivity go here</span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="co"># Add server code (specifying application's content) here</span></span>
<span>  </span>
<span>  <span class="co"># creates text output</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">context_discussion</span><span class="op">&lt;-</span><span class="fu">renderText</span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="st">"This histogram shows 1,000 values randomly drawn from a standard normal distribution. Most values fall between -3 and 3, with a peak around 0."</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># creates plot output</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">normal_plot</span><span class="op">&lt;-</span><span class="fu">renderPlot</span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="co"># create vector</span></span>
<span>    <span class="va">samples</span> <span class="op">&lt;-</span> <span class="fu">rnorm</span><span class="op">(</span><span class="fl">1000</span>, mean <span class="op">=</span> <span class="fl">0</span>, sd <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span>    </span>
<span>    <span class="co"># make a histogram of "samples" data</span></span>
<span>    <span class="fu">hist</span><span class="op">(</span><span class="va">samples</span>, breaks <span class="op">=</span> <span class="va">input</span><span class="op">$</span><span class="va">desired_bins</span>, col <span class="op">=</span> <span class="st">"skyblue"</span>,</span>
<span>         main <span class="op">=</span> <span class="st">"Histogram of Normal Samples"</span>,</span>
<span>         xlab <span class="op">=</span> <span class="st">"Value"</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Launch the app </span></span>
<span><span class="fu">shinyApp</span><span class="op">(</span><span class="va">ui</span>, <span class="va">server</span><span class="op">)</span></span></code></pre>
</div>
<p>When we launch the application, we see a numeric textbox with the
default value set to 30 (the number of bins we had in our static
application):</p>
<figure style="text-align: center"><img src="../fig/fig19-interactive-normal.png" alt="Figure 19.Launching the interactive plot application" class="figure mx-auto d-block"><figcaption>
Figure 19.Launching the interactive plot application
</figcaption></figure><p>However, the desired number of bins can now be changed by the user,
and the plot will respond accordingly. For example, let’s change the
number of bins to 100:</p>
<figure style="text-align: center"><img src="../fig/fig20-interactive-normal-bins.png" alt="Figure 20. Increasing the number of bins to 100" class="figure mx-auto d-block"><figcaption>
Figure 20. Increasing the number of bins to 100
</figcaption></figure><p>Let’s add another interactive dimension to this application by
allowing users to change the color of the plot. We’ll create a text
input field where a user can type in a color, based on <a href="https://www.nceas.ucsb.edu/sites/default/files/2020-04/colorPaletteCheatsheet.pdf" class="external-link">color
codes used in R</a>. We’ll place this text box below the numeric input
box, and create it using the <code>textInput()</code> function; we’ll
refer back to the user specified color in the server using dollar sign
notation in conjunction with the ID argument passed to
<code>textInput()</code>:</p>
<div class="codewrapper sourceCode" id="cb27">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># UI: Layout and inputs/outputs go here</span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu">fluidPage</span><span class="op">(</span></span>
<span>  <span class="co"># Add UI code (specifying application's inputs, outputs, and layouts) here</span></span>
<span>  <span class="fu">titlePanel</span><span class="op">(</span><span class="st">"Exploring the Normal Distribution"</span><span class="op">)</span>,</span>
<span>  <span class="fu">numericInput</span><span class="op">(</span>inputId <span class="op">=</span> <span class="st">"desired_bins"</span>, </span>
<span>               label<span class="op">=</span><span class="st">"Please enter the desired number of bins"</span>,</span>
<span>               value<span class="op">=</span><span class="fl">30</span><span class="op">)</span>,</span>
<span>  <span class="fu">textInput</span><span class="op">(</span>inputId<span class="op">=</span><span class="st">"desired_color"</span>,</span>
<span>            label<span class="op">=</span><span class="st">"Please enter the desired color for the histogram"</span>,</span>
<span>            value<span class="op">=</span><span class="st">"skyblue"</span><span class="op">)</span>,</span>
<span>  <span class="fu">plotOutput</span><span class="op">(</span>outputId <span class="op">=</span> <span class="st">"normal_plot"</span><span class="op">)</span>,</span>
<span>  <span class="fu">textOutput</span><span class="op">(</span>outputId<span class="op">=</span><span class="st">"context_discussion"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Server: Logic and reactivity go here</span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="co"># Add server code (specifying application's content) here</span></span>
<span>  </span>
<span>  <span class="co"># creates text output</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">context_discussion</span><span class="op">&lt;-</span><span class="fu">renderText</span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="st">"This histogram shows 1,000 values randomly drawn from a standard normal distribution. Most values fall between -3 and 3, with a peak around 0."</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># creates plot output</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">normal_plot</span><span class="op">&lt;-</span><span class="fu">renderPlot</span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="co"># create vector</span></span>
<span>    <span class="va">samples</span> <span class="op">&lt;-</span> <span class="fu">rnorm</span><span class="op">(</span><span class="fl">1000</span>, mean <span class="op">=</span> <span class="fl">0</span>, sd <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span>    </span>
<span>    <span class="co"># make a histogram of "samples" data</span></span>
<span>    <span class="fu">hist</span><span class="op">(</span><span class="va">samples</span>, breaks <span class="op">=</span> <span class="va">input</span><span class="op">$</span><span class="va">desired_bins</span>, col <span class="op">=</span> <span class="va">input</span><span class="op">$</span><span class="va">desired_color</span>,</span>
<span>         main <span class="op">=</span> <span class="st">"Histogram of Normal Samples"</span>,</span>
<span>         xlab <span class="op">=</span> <span class="st">"Value"</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Launch the app </span></span>
<span><span class="fu">shinyApp</span><span class="op">(</span><span class="va">ui</span>, <span class="va">server</span><span class="op">)</span></span></code></pre>
</div>
<p>Let’s launch the app, set the number of bins to 60, and the color to
“orangered”. It will look something like this:</p>
<figure style="text-align: center"><img src="../fig/fig21-interactive-normal-bins-colors.png" alt="Figure 21. Interactively changing number of bins and colors" class="figure mx-auto d-block"><figcaption>
Figure 21. Interactively changing number of bins and colors
</figcaption></figure><div id="challenge-5-modify-the-interactive-plot-application" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="challenge-5-modify-the-interactive-plot-application" class="callout-inner">
<h3 class="callout-title">Challenge 5: Modify the interactive plot application</h3>
<div class="callout-content">
<p>Modify the interactive plot application in the following ways:</p>
<ul>
<li>Instead of inviting users to specify their desired color in a
textbox, constrain their choices by asking them to select one of the
following colors from a dropdown menu: skyblue, orangered, violet,
lightcyan, or lawngreen.</li>
<li>Remove the contextual discussion (i.e. “This histogram shows…)</li>
<li>Create a numeric input field where users can specify a desired mean
for the sample.</li>
</ul>
</div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4"> Show me the solution </h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" aria-labelledby="headingSolution4" data-bs-parent="#accordionSolution4">
<div class="accordion-body">
<p>Your script should look something like this:</p>
<div class="codewrapper sourceCode" id="cb28">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># UI: Layout and inputs/outputs go here</span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu">fluidPage</span><span class="op">(</span></span>
<span>  <span class="co"># Add UI code (specifying application's inputs, outputs, and layouts) here</span></span>
<span>  <span class="fu">titlePanel</span><span class="op">(</span><span class="st">"Exploring the Normal Distribution"</span><span class="op">)</span>,</span>
<span>  <span class="fu">numericInput</span><span class="op">(</span>inputId <span class="op">=</span> <span class="st">"desired_bins"</span>, </span>
<span>               label<span class="op">=</span><span class="st">"Please enter the desired number of bins"</span>,</span>
<span>               value<span class="op">=</span><span class="fl">30</span><span class="op">)</span>,</span>
<span>  <span class="fu">selectInput</span><span class="op">(</span>inputId<span class="op">=</span><span class="st">"desired_color"</span>,</span>
<span>            label<span class="op">=</span><span class="st">"Please select the desired color for the histogram"</span>,</span>
<span>            choices<span class="op">=</span><span class="fu">c</span><span class="op">(</span><span class="st">"skyblue"</span>, <span class="st">"orangered"</span>, <span class="st">"violet"</span>, <span class="st">"lightcyan"</span>, <span class="st">"lawngreen"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  <span class="fu">numericInput</span><span class="op">(</span>inputId<span class="op">=</span><span class="st">"desired_mean"</span>, label<span class="op">=</span><span class="st">"Please enter the desired population mean"</span>, value<span class="op">=</span><span class="fl">0</span><span class="op">)</span>,</span>
<span>  <span class="fu">plotOutput</span><span class="op">(</span>outputId <span class="op">=</span> <span class="st">"normal_plot"</span><span class="op">)</span>,</span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Server: Logic and reactivity go here</span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="co"># Add server code (specifying application's content) here</span></span>
<span>  </span>
<span>  <span class="co"># creates plot output</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">normal_plot</span><span class="op">&lt;-</span><span class="fu">renderPlot</span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="co"># create vector</span></span>
<span>    <span class="va">samples</span> <span class="op">&lt;-</span> <span class="fu">rnorm</span><span class="op">(</span><span class="fl">1000</span>, mean <span class="op">=</span> <span class="va">input</span><span class="op">$</span><span class="va">desired_mean</span>, sd <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span>    </span>
<span>    <span class="co"># make a histogram of "samples" data</span></span>
<span>    <span class="fu">hist</span><span class="op">(</span><span class="va">samples</span>, breaks <span class="op">=</span> <span class="va">input</span><span class="op">$</span><span class="va">desired_bins</span>, col <span class="op">=</span> <span class="va">input</span><span class="op">$</span><span class="va">desired_color</span>,</span>
<span>         main <span class="op">=</span> <span class="st">"Histogram of Normal Samples"</span>,</span>
<span>         xlab <span class="op">=</span> <span class="st">"Value"</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Launch the app </span></span>
<span><span class="fu">shinyApp</span><span class="op">(</span><span class="va">ui</span>, <span class="va">server</span><span class="op">)</span></span></code></pre>
</div>
<p>Once the app is launched, if we were to set the number of bins to
100, select “lawngreen” as the color, and choose a mean of 45, we will
get something that looks like the following:</p>
<figure style="text-align: center"><img src="../fig/fig22-interactive-normal-bins-colors-means.png" alt="Figure 21. Interactive plot with user inputs for color, number of bins, and mean" class="figure mx-auto d-block"><figcaption>
Figure 21. Interactive plot with user inputs for color, number of bins,
and mean
</figcaption></figure>
</div>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="layouts-and-themes">Layouts and Themes<a class="anchor" aria-label="anchor" href="#layouts-and-themes"></a>
</h2>
<hr class="half-width">
<p>We’ll use the app you just created in the exercise above to explore
some basic tools that can be used to lay out the elements within your
application, as well as style the application as a whole.</p>
<div class="section level3">
<h3 id="sidebar-layouts">Sidebar layouts<a class="anchor" aria-label="anchor" href="#sidebar-layouts"></a>
</h3>
<p>First, note that the user inputs in the app you created were laid out
on top of the plot. Often, it can be preferable to situate these
elements towards the side. Indeed, one of the most useful Shiny
application layouts is known as the sidebar layout, in which there is a
sidebar for inputs, and a “main” panel for outputs. To see how the
sidebar layout works, let’s wrap the application we wrote in the
previous exercise into a sidebar layout, with the inputs on the side,
and the plot in the main panel:</p>
<div class="codewrapper sourceCode" id="cb29">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu">fluidPage</span><span class="op">(</span></span>
<span>  <span class="co"># Add UI code (specifying application's inputs, outputs, and layouts) here</span></span>
<span>  <span class="fu">titlePanel</span><span class="op">(</span><span class="st">"Exploring the Normal Distribution"</span><span class="op">)</span>,</span>
<span>  </span>
<span>  <span class="fu">sidebarLayout</span><span class="op">(</span></span>
<span>    <span class="fu">sidebarPanel</span><span class="op">(</span></span>
<span>      <span class="fu">numericInput</span><span class="op">(</span>inputId <span class="op">=</span> <span class="st">"desired_bins"</span>, </span>
<span>                   label <span class="op">=</span> <span class="st">"Please enter the desired number of bins"</span>,</span>
<span>                   value <span class="op">=</span> <span class="fl">30</span><span class="op">)</span>,</span>
<span>      </span>
<span>      <span class="fu">selectInput</span><span class="op">(</span>inputId <span class="op">=</span> <span class="st">"desired_color"</span>,</span>
<span>                  label <span class="op">=</span> <span class="st">"Please select the desired color for the histogram"</span>,</span>
<span>                  choices <span class="op">=</span> <span class="fu">c</span><span class="op">(</span><span class="st">"skyblue"</span>, <span class="st">"orangered"</span>, <span class="st">"violet"</span>, <span class="st">"lightcyan"</span>, <span class="st">"lawngreen"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>      </span>
<span>      <span class="fu">numericInput</span><span class="op">(</span>inputId <span class="op">=</span> <span class="st">"desired_mean"</span>, </span>
<span>                   label <span class="op">=</span> <span class="st">"Please enter the desired population mean"</span>, </span>
<span>                   value <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span>
<span>    <span class="op">)</span>, <span class="co"># closes sidebarPanel</span></span>
<span>    </span>
<span>    <span class="fu">mainPanel</span><span class="op">(</span></span>
<span>      <span class="fu">plotOutput</span><span class="op">(</span>outputId <span class="op">=</span> <span class="st">"normal_plot"</span><span class="op">)</span></span>
<span>    <span class="op">)</span> <span class="co"># closes mainPanel</span></span>
<span>  <span class="op">)</span> <span class="co"># closes sidebarLayout</span></span>
<span><span class="op">)</span> <span class="co"># closes fluidPage</span></span>
<span></span>
<span></span>
<span><span class="co"># Server: Logic and reactivity go here</span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="co"># Add server code (specifying application's content) here</span></span>
<span>  </span>
<span>  <span class="co"># creates plot output</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">normal_plot</span> <span class="op">&lt;-</span> <span class="fu">renderPlot</span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="co"># create vector</span></span>
<span>    <span class="va">samples</span> <span class="op">&lt;-</span> <span class="fu">rnorm</span><span class="op">(</span><span class="fl">1000</span>, mean <span class="op">=</span> <span class="va">input</span><span class="op">$</span><span class="va">desired_mean</span>, sd <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span>    </span>
<span>    <span class="co"># make a histogram of "samples" data</span></span>
<span>    <span class="fu">hist</span><span class="op">(</span><span class="va">samples</span>, breaks <span class="op">=</span> <span class="va">input</span><span class="op">$</span><span class="va">desired_bins</span>, col <span class="op">=</span> <span class="va">input</span><span class="op">$</span><span class="va">desired_color</span>,</span>
<span>         main <span class="op">=</span> <span class="st">"Histogram of Normal Samples"</span>,</span>
<span>         xlab <span class="op">=</span> <span class="st">"Value"</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Launch the app </span></span>
<span><span class="fu">shinyApp</span><span class="op">(</span><span class="va">ui</span>, <span class="va">server</span><span class="op">)</span></span></code></pre>
</div>
<p>As you can see, the <code>sidebarLayout()</code> function declares a
sidebar structure; within this function, relevant input widgets are
placed within <code>sidebarPanel()</code>, and the outputs to be
displayed within the main panel are placed within
<code>sidebarPanel()</code>. Once this sidebar structure is in place,
the revised app will look like the following:</p>
<figure style="text-align: center"><img src="../fig/fig23-sidebar.png" alt="Figure 23. Sidebar layout" class="figure mx-auto d-block"><figcaption>
Figure 23. Sidebar layout
</figcaption></figure><p>If you wanted to place the input widgets to the right of the main
panel, you can do so by specifying
<code>position="right" within</code>sidebarLayout()<code>, right before calling</code>sidebarPanel()```.
The modified script would look like this:</p>
<div class="codewrapper sourceCode" id="cb30">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu">fluidPage</span><span class="op">(</span></span>
<span>  <span class="co"># Add UI code (specifying application's inputs, outputs, and layouts) here</span></span>
<span>  <span class="fu">titlePanel</span><span class="op">(</span><span class="st">"Exploring the Normal Distribution"</span><span class="op">)</span>,</span>
<span>  </span>
<span>  <span class="fu">sidebarLayout</span><span class="op">(</span></span>
<span>    position<span class="op">=</span><span class="st">"right"</span>,</span>
<span>    <span class="fu">sidebarPanel</span><span class="op">(</span></span>
<span>      <span class="fu">numericInput</span><span class="op">(</span>inputId <span class="op">=</span> <span class="st">"desired_bins"</span>, </span>
<span>                   label <span class="op">=</span> <span class="st">"Please enter the desired number of bins"</span>,</span>
<span>                   value <span class="op">=</span> <span class="fl">30</span><span class="op">)</span>,</span>
<span>      </span>
<span>      <span class="fu">selectInput</span><span class="op">(</span>inputId <span class="op">=</span> <span class="st">"desired_color"</span>,</span>
<span>                  label <span class="op">=</span> <span class="st">"Please select the desired color for the histogram"</span>,</span>
<span>                  choices <span class="op">=</span> <span class="fu">c</span><span class="op">(</span><span class="st">"skyblue"</span>, <span class="st">"orangered"</span>, <span class="st">"violet"</span>, <span class="st">"lightcyan"</span>, <span class="st">"lawngreen"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>      </span>
<span>      <span class="fu">numericInput</span><span class="op">(</span>inputId <span class="op">=</span> <span class="st">"desired_mean"</span>, </span>
<span>                   label <span class="op">=</span> <span class="st">"Please enter the desired population mean"</span>, </span>
<span>                   value <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span>
<span>    <span class="op">)</span>, <span class="co"># closes sidebarPanel</span></span>
<span>    </span>
<span>    <span class="fu">mainPanel</span><span class="op">(</span></span>
<span>      <span class="fu">plotOutput</span><span class="op">(</span>outputId <span class="op">=</span> <span class="st">"normal_plot"</span><span class="op">)</span></span>
<span>    <span class="op">)</span> <span class="co"># closes mainPanel</span></span>
<span>  <span class="op">)</span> <span class="co"># closes sidebarLayout</span></span>
<span><span class="op">)</span> <span class="co"># closes fluidPage</span></span>
<span></span>
<span></span>
<span><span class="co"># Server: Logic and reactivity go here</span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="co"># Add server code (specifying application's content) here</span></span>
<span>  </span>
<span>  <span class="co"># creates plot output</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">normal_plot</span> <span class="op">&lt;-</span> <span class="fu">renderPlot</span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="co"># create vector</span></span>
<span>    <span class="va">samples</span> <span class="op">&lt;-</span> <span class="fu">rnorm</span><span class="op">(</span><span class="fl">1000</span>, mean <span class="op">=</span> <span class="va">input</span><span class="op">$</span><span class="va">desired_mean</span>, sd <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span>    </span>
<span>    <span class="co"># make a histogram of "samples" data</span></span>
<span>    <span class="fu">hist</span><span class="op">(</span><span class="va">samples</span>, breaks <span class="op">=</span> <span class="va">input</span><span class="op">$</span><span class="va">desired_bins</span>, col <span class="op">=</span> <span class="va">input</span><span class="op">$</span><span class="va">desired_color</span>,</span>
<span>         main <span class="op">=</span> <span class="st">"Histogram of Normal Samples"</span>,</span>
<span>         xlab <span class="op">=</span> <span class="st">"Value"</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Launch the app </span></span>
<span><span class="fu">shinyApp</span><span class="op">(</span><span class="va">ui</span>, <span class="va">server</span><span class="op">)</span></span></code></pre>
</div>
<p>Yielding an application with the inputs on the right, as
expected:</p>
<figure style="text-align: center"><img src="../fig/fig24-sidebar-right.png" alt="Figure 24. Sidebar layout with inputs on the right" class="figure mx-auto d-block"><figcaption>
Figure 24. Sidebar layout with inputs on the right
</figcaption></figure><p>Recall, from above, that if we want the input widgets below the main
plot, we could remove the sidebar layout, and place the input widgets
below the plot output in the UI:</p>
<div class="codewrapper sourceCode" id="cb31">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># UI: Layout and inputs/outputs go here</span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu">fluidPage</span><span class="op">(</span></span>
<span>  <span class="co"># Add UI code (specifying application's inputs, outputs, and layouts) here</span></span>
<span>  <span class="fu">titlePanel</span><span class="op">(</span><span class="st">"Exploring the Normal Distribution"</span><span class="op">)</span>,</span>
<span>  <span class="fu">plotOutput</span><span class="op">(</span>outputId <span class="op">=</span> <span class="st">"normal_plot"</span><span class="op">)</span>,</span>
<span>  <span class="fu">numericInput</span><span class="op">(</span>inputId <span class="op">=</span> <span class="st">"desired_bins"</span>, </span>
<span>               label<span class="op">=</span><span class="st">"Please enter the desired number of bins"</span>,</span>
<span>               value<span class="op">=</span><span class="fl">30</span><span class="op">)</span>,</span>
<span>  <span class="fu">selectInput</span><span class="op">(</span>inputId<span class="op">=</span><span class="st">"desired_color"</span>,</span>
<span>            label<span class="op">=</span><span class="st">"Please select the desired color for the histogram"</span>,</span>
<span>            choices<span class="op">=</span><span class="fu">c</span><span class="op">(</span><span class="st">"skyblue"</span>, <span class="st">"orangered"</span>, <span class="st">"violet"</span>, <span class="st">"lightcyan"</span>, <span class="st">"lawngreen"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  <span class="fu">numericInput</span><span class="op">(</span>inputId<span class="op">=</span><span class="st">"desired_mean"</span>, label<span class="op">=</span><span class="st">"Please enter the desired population mean"</span>, value<span class="op">=</span><span class="fl">0</span><span class="op">)</span>,</span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Server: Logic and reactivity go here</span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="co"># Add server code (specifying application's content) here</span></span>
<span>  </span>
<span>  <span class="co"># creates plot output</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">normal_plot</span><span class="op">&lt;-</span><span class="fu">renderPlot</span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="co"># create vector</span></span>
<span>    <span class="va">samples</span> <span class="op">&lt;-</span> <span class="fu">rnorm</span><span class="op">(</span><span class="fl">1000</span>, mean <span class="op">=</span> <span class="va">input</span><span class="op">$</span><span class="va">desired_mean</span>, sd <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span>    </span>
<span>    <span class="co"># make a histogram of "samples" data</span></span>
<span>    <span class="fu">hist</span><span class="op">(</span><span class="va">samples</span>, breaks <span class="op">=</span> <span class="va">input</span><span class="op">$</span><span class="va">desired_bins</span>, col <span class="op">=</span> <span class="va">input</span><span class="op">$</span><span class="va">desired_color</span>,</span>
<span>         main <span class="op">=</span> <span class="st">"Histogram of Normal Samples"</span>,</span>
<span>         xlab <span class="op">=</span> <span class="st">"Value"</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Launch the app </span></span>
<span><span class="fu">shinyApp</span><span class="op">(</span><span class="va">ui</span>, <span class="va">server</span><span class="op">)</span></span></code></pre>
</div>
<p>This minor adjustment in the UI leads to an app with the following
appearance:</p>
<figure style="text-align: center"><img src="../fig/fig25-inputs-bottom.png" alt="Figure 25. Inputs on the bottom" class="figure mx-auto d-block"><figcaption>
Figure 25. Inputs on the bottom
</figcaption></figure>
</div>
<div class="section level3">
<h3 id="tabs">Tabs<a class="anchor" aria-label="anchor" href="#tabs"></a>
</h3>
<p>So far, our apps have been fairly simple, but as they grow in
complexity and the amount of information displayed increases, it can be
helpful to use tabs as an organizational tool. Tabs allow us to
distribute content across multiple panels, reducing clutter and creating
a more streamlined and user-friendly design. In Shiny, we can use the
<code>tabsetPanel()</code> function to organize the content into tabs.
Each individual tab is then defined using the tabPanel() function, where
the material for that tab is placed. Below, we demonstrate the use of
tabs by placing the plot in one tab (the tab is named “Histogram”), and
then place some contextual information in another tab (named
“Explanation”).</p>
<div class="codewrapper sourceCode" id="cb32">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># UI</span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu">fluidPage</span><span class="op">(</span></span>
<span>  <span class="fu">titlePanel</span><span class="op">(</span><span class="st">"Exploring the Normal Distribution"</span><span class="op">)</span>,</span>
<span>  </span>
<span>  <span class="fu">sidebarLayout</span><span class="op">(</span></span>
<span>    <span class="fu">sidebarPanel</span><span class="op">(</span></span>
<span>      <span class="fu">numericInput</span><span class="op">(</span>inputId <span class="op">=</span> <span class="st">"desired_bins"</span>, </span>
<span>                   label <span class="op">=</span> <span class="st">"Please enter the desired number of bins"</span>,</span>
<span>                   value <span class="op">=</span> <span class="fl">30</span><span class="op">)</span>,</span>
<span>      </span>
<span>      <span class="fu">selectInput</span><span class="op">(</span>inputId <span class="op">=</span> <span class="st">"desired_color"</span>,</span>
<span>                  label <span class="op">=</span> <span class="st">"Please select the desired color for the histogram"</span>,</span>
<span>                  choices <span class="op">=</span> <span class="fu">c</span><span class="op">(</span><span class="st">"skyblue"</span>, <span class="st">"orangered"</span>, <span class="st">"violet"</span>, <span class="st">"lightcyan"</span>, <span class="st">"lawngreen"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>      </span>
<span>      <span class="fu">numericInput</span><span class="op">(</span>inputId <span class="op">=</span> <span class="st">"desired_mean"</span>, </span>
<span>                   label <span class="op">=</span> <span class="st">"Please enter the desired population mean"</span>, </span>
<span>                   value <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span>
<span>    <span class="op">)</span>, <span class="co"># closes sidebarPanel</span></span>
<span>    </span>
<span>    <span class="fu">mainPanel</span><span class="op">(</span></span>
<span>      <span class="fu">tabsetPanel</span><span class="op">(</span></span>
<span>        <span class="fu">tabPanel</span><span class="op">(</span>title<span class="op">=</span><span class="st">"Histogram"</span>, </span>
<span>                 <span class="fu">plotOutput</span><span class="op">(</span>outputId <span class="op">=</span> <span class="st">"normal_plot"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>        <span class="fu">tabPanel</span><span class="op">(</span>title<span class="op">=</span><span class="st">"Explanation"</span>, </span>
<span>                 <span class="fu">textOutput</span><span class="op">(</span>outputId <span class="op">=</span> <span class="st">"context_discussion"</span><span class="op">)</span><span class="op">)</span></span>
<span>      <span class="op">)</span> <span class="co"># closes tabsetPanel</span></span>
<span>    <span class="op">)</span> <span class="co"># closes mainPanel</span></span>
<span>  <span class="op">)</span> <span class="co"># closes sidebarLayout</span></span>
<span><span class="op">)</span> <span class="co"># closes fluidPage</span></span>
<span></span>
<span><span class="co"># Server</span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span><span class="op">)</span> <span class="op">{</span></span>
<span>  </span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">normal_plot</span> <span class="op">&lt;-</span> <span class="fu">renderPlot</span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="va">samples</span> <span class="op">&lt;-</span> <span class="fu">rnorm</span><span class="op">(</span><span class="fl">1000</span>, mean <span class="op">=</span> <span class="va">input</span><span class="op">$</span><span class="va">desired_mean</span>, sd <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span>    </span>
<span>    <span class="fu">hist</span><span class="op">(</span><span class="va">samples</span>, breaks <span class="op">=</span> <span class="va">input</span><span class="op">$</span><span class="va">desired_bins</span>, col <span class="op">=</span> <span class="va">input</span><span class="op">$</span><span class="va">desired_color</span>,</span>
<span>         main <span class="op">=</span> <span class="st">"Histogram of Normal Samples"</span>,</span>
<span>         xlab <span class="op">=</span> <span class="st">"Value"</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">context_discussion</span> <span class="op">&lt;-</span> <span class="fu">renderText</span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="st">"This histogram shows 1,000 values drawn from a normal distribution with the specified mean. </span></span>
<span><span class="st">    You can change the number of bins and the histogram color using the controls on the right."</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Run the app</span></span>
<span><span class="fu">shinyApp</span><span class="op">(</span>ui <span class="op">=</span> <span class="va">ui</span>, server <span class="op">=</span> <span class="va">server</span><span class="op">)</span></span></code></pre>
</div>
<p>When launched, this tab-based app looks something like this; note the
“Histogram” tab is live:</p>
<figure style="text-align: center"><img src="../fig/fig26-tab1.png" alt="Figure 26. Tab based app with Histogram tab open" class="figure mx-auto d-block"><figcaption>
Figure 26. Tab based app with Histogram tab open
</figcaption></figure><p>When the user toggles to the “Explanation” tab, it looks like
this:</p>
<figure style="text-align: center"><img src="../fig/fig27-tab2.png" alt="Figure 27. Tab based app with Explanation tab open" class="figure mx-auto d-block"><figcaption>
Figure 27. Tab based app with Explanation tab open
</figcaption></figure>
</div>
<div class="section level3">
<h3 id="themes">Themes<a class="anchor" aria-label="anchor" href="#themes"></a>
</h3>
<p>Issues of application design and style are complex issues, and many
of them are beyond the scope of our Workshop. However, we will briefly
introduce themes, which can help shape the visual appearance of your
applications with relatively little effort. Shiny themes come from the
<em>shinythemes</em> package, and you can add a theme to your app with
one line of code. Before deciding on a theme, you’d probably want to
preview various options, which you can do with the
<code>themeSelector()</code> function. Let’s explore various themes that
could be applied to the tab-based app we made above:</p>
<div class="codewrapper sourceCode" id="cb33">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># UI</span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu">fluidPage</span><span class="op">(</span></span>
<span>  <span class="fu">themeSelector</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="fu">titlePanel</span><span class="op">(</span><span class="st">"Exploring the Normal Distribution"</span><span class="op">)</span>,</span>
<span>  <span class="fu">sidebarLayout</span><span class="op">(</span></span>
<span>    <span class="fu">sidebarPanel</span><span class="op">(</span></span>
<span>      <span class="fu">numericInput</span><span class="op">(</span>inputId <span class="op">=</span> <span class="st">"desired_bins"</span>, </span>
<span>                   label <span class="op">=</span> <span class="st">"Please enter the desired number of bins"</span>,</span>
<span>                   value <span class="op">=</span> <span class="fl">30</span><span class="op">)</span>,</span>
<span>      </span>
<span>      <span class="fu">selectInput</span><span class="op">(</span>inputId <span class="op">=</span> <span class="st">"desired_color"</span>,</span>
<span>                  label <span class="op">=</span> <span class="st">"Please select the desired color for the histogram"</span>,</span>
<span>                  choices <span class="op">=</span> <span class="fu">c</span><span class="op">(</span><span class="st">"skyblue"</span>, <span class="st">"orangered"</span>, <span class="st">"violet"</span>, <span class="st">"lightcyan"</span>, <span class="st">"lawngreen"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>      </span>
<span>      <span class="fu">numericInput</span><span class="op">(</span>inputId <span class="op">=</span> <span class="st">"desired_mean"</span>, </span>
<span>                   label <span class="op">=</span> <span class="st">"Please enter the desired population mean"</span>, </span>
<span>                   value <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span>
<span>    <span class="op">)</span>, <span class="co"># closes sidebarPanel</span></span>
<span>    </span>
<span>    <span class="fu">mainPanel</span><span class="op">(</span></span>
<span>      <span class="fu">tabsetPanel</span><span class="op">(</span></span>
<span>        <span class="fu">tabPanel</span><span class="op">(</span>title<span class="op">=</span><span class="st">"Histogram"</span>, </span>
<span>                 <span class="fu">plotOutput</span><span class="op">(</span>outputId <span class="op">=</span> <span class="st">"normal_plot"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>        <span class="fu">tabPanel</span><span class="op">(</span>title<span class="op">=</span><span class="st">"Explanation"</span>, </span>
<span>                 <span class="fu">textOutput</span><span class="op">(</span>outputId <span class="op">=</span> <span class="st">"context_discussion"</span><span class="op">)</span><span class="op">)</span></span>
<span>      <span class="op">)</span> <span class="co"># closes tabsetPanel</span></span>
<span>    <span class="op">)</span> <span class="co"># closes mainPanel</span></span>
<span>  <span class="op">)</span> <span class="co"># closes sidebarLayout</span></span>
<span><span class="op">)</span> <span class="co"># closes fluidPage</span></span>
<span></span>
<span><span class="co"># Server</span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span><span class="op">)</span> <span class="op">{</span></span>
<span>  </span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">normal_plot</span> <span class="op">&lt;-</span> <span class="fu">renderPlot</span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="va">samples</span> <span class="op">&lt;-</span> <span class="fu">rnorm</span><span class="op">(</span><span class="fl">1000</span>, mean <span class="op">=</span> <span class="va">input</span><span class="op">$</span><span class="va">desired_mean</span>, sd <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span>    </span>
<span>    <span class="fu">hist</span><span class="op">(</span><span class="va">samples</span>, breaks <span class="op">=</span> <span class="va">input</span><span class="op">$</span><span class="va">desired_bins</span>, col <span class="op">=</span> <span class="va">input</span><span class="op">$</span><span class="va">desired_color</span>,</span>
<span>         main <span class="op">=</span> <span class="st">"Histogram of Normal Samples"</span>,</span>
<span>         xlab <span class="op">=</span> <span class="st">"Value"</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">context_discussion</span> <span class="op">&lt;-</span> <span class="fu">renderText</span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="st">"This histogram shows 1,000 values drawn from a normal distribution with the specified mean. </span></span>
<span><span class="st">    You can change the number of bins and the histogram color using the controls on the right."</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Run the app</span></span>
<span><span class="fu">shinyApp</span><span class="op">(</span>ui <span class="op">=</span> <span class="va">ui</span>, server <span class="op">=</span> <span class="va">server</span><span class="op">)</span></span></code></pre>
</div>
<p>When you launch this app, it will launch with a drop-down menu that
allows you to select and preview how various themes look in the context
of your app:</p>
<figure style="text-align: center"><img src="../fig/fig28-theme-selector.png" alt="Figure 28. Shiny theme selector" class="figure mx-auto d-block"><figcaption>
Figure 28. Shiny theme selector
</figcaption></figure><p>After previewing the various themes, let’s say you decide you want to
select the “slate” theme. To apply that theme, replace
<code>themeSelector()</code> in the code with
<code>theme=shinytheme("superhero")</code>:</p>
<div class="codewrapper sourceCode" id="cb34">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># UI</span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu">fluidPage</span><span class="op">(</span></span>
<span>  theme<span class="op">=</span><span class="fu">shinytheme</span><span class="op">(</span><span class="st">"superhero"</span><span class="op">)</span>,</span>
<span>  <span class="fu">titlePanel</span><span class="op">(</span><span class="st">"Exploring the Normal Distribution"</span><span class="op">)</span>,</span>
<span>  <span class="fu">sidebarLayout</span><span class="op">(</span></span>
<span>    <span class="fu">sidebarPanel</span><span class="op">(</span></span>
<span>      <span class="fu">numericInput</span><span class="op">(</span>inputId <span class="op">=</span> <span class="st">"desired_bins"</span>, </span>
<span>                   label <span class="op">=</span> <span class="st">"Please enter the desired number of bins"</span>,</span>
<span>                   value <span class="op">=</span> <span class="fl">30</span><span class="op">)</span>,</span>
<span>      </span>
<span>      <span class="fu">selectInput</span><span class="op">(</span>inputId <span class="op">=</span> <span class="st">"desired_color"</span>,</span>
<span>                  label <span class="op">=</span> <span class="st">"Please select the desired color for the histogram"</span>,</span>
<span>                  choices <span class="op">=</span> <span class="fu">c</span><span class="op">(</span><span class="st">"skyblue"</span>, <span class="st">"orangered"</span>, <span class="st">"violet"</span>, <span class="st">"lightcyan"</span>, <span class="st">"lawngreen"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>      </span>
<span>      <span class="fu">numericInput</span><span class="op">(</span>inputId <span class="op">=</span> <span class="st">"desired_mean"</span>, </span>
<span>                   label <span class="op">=</span> <span class="st">"Please enter the desired population mean"</span>, </span>
<span>                   value <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span>
<span>    <span class="op">)</span>, <span class="co"># closes sidebarPanel</span></span>
<span>    </span>
<span>    <span class="fu">mainPanel</span><span class="op">(</span></span>
<span>      <span class="fu">tabsetPanel</span><span class="op">(</span></span>
<span>        <span class="fu">tabPanel</span><span class="op">(</span>title<span class="op">=</span><span class="st">"Histogram"</span>, </span>
<span>                 <span class="fu">plotOutput</span><span class="op">(</span>outputId <span class="op">=</span> <span class="st">"normal_plot"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>        <span class="fu">tabPanel</span><span class="op">(</span>title<span class="op">=</span><span class="st">"Explanation"</span>, </span>
<span>                 <span class="fu">textOutput</span><span class="op">(</span>outputId <span class="op">=</span> <span class="st">"context_discussion"</span><span class="op">)</span><span class="op">)</span></span>
<span>      <span class="op">)</span> <span class="co"># closes tabsetPanel</span></span>
<span>    <span class="op">)</span> <span class="co"># closes mainPanel</span></span>
<span>  <span class="op">)</span> <span class="co"># closes sidebarLayout</span></span>
<span><span class="op">)</span> <span class="co"># closes fluidPage</span></span>
<span></span>
<span><span class="co"># Server</span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span><span class="op">)</span> <span class="op">{</span></span>
<span>  </span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">normal_plot</span> <span class="op">&lt;-</span> <span class="fu">renderPlot</span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="va">samples</span> <span class="op">&lt;-</span> <span class="fu">rnorm</span><span class="op">(</span><span class="fl">1000</span>, mean <span class="op">=</span> <span class="va">input</span><span class="op">$</span><span class="va">desired_mean</span>, sd <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span>    </span>
<span>    <span class="fu">hist</span><span class="op">(</span><span class="va">samples</span>, breaks <span class="op">=</span> <span class="va">input</span><span class="op">$</span><span class="va">desired_bins</span>, col <span class="op">=</span> <span class="va">input</span><span class="op">$</span><span class="va">desired_color</span>,</span>
<span>         main <span class="op">=</span> <span class="st">"Histogram of Normal Samples"</span>,</span>
<span>         xlab <span class="op">=</span> <span class="st">"Value"</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">context_discussion</span> <span class="op">&lt;-</span> <span class="fu">renderText</span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="st">"This histogram shows 1,000 values drawn from a normal distribution with the specified mean. </span></span>
<span><span class="st">    You can change the number of bins and the histogram color using the controls on the right."</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Run the app</span></span>
<span><span class="fu">shinyApp</span><span class="op">(</span>ui <span class="op">=</span> <span class="va">ui</span>, server <span class="op">=</span> <span class="va">server</span><span class="op">)</span></span></code></pre>
</div>
<p>Now, when the app is launched, you’ll see the theme is applied:</p>
<figure style="text-align: center"><img src="../fig/fig29-theme-applied.png" alt="Figure 29. Shiny superhero theme" class="figure mx-auto d-block"><figcaption>
Figure 29. Shiny superhero theme
</figcaption></figure>
</div>
</section><section><h2 class="section-heading" id="advanced-reactivity">Advanced Reactivity<a class="anchor" aria-label="anchor" href="#advanced-reactivity"></a>
</h2>
<hr class="half-width">
<p>As we noted above, in a reactive programming context, a change in an
input (triggered by a user) automatically triggers an update in all
downstream outputs that depend on that input. Shiny’s suite of input and
output functions, which we are becoming familiar with, facilitate this
reactivity, making it possible to develop interactive applications in a
relatively straightforward way. Now that we have some more experience in
Shiny’s reactive programming context, this section will introduce some
more advanced tools and concepts related to reactivity.</p>
<div class="section level3">
<h3 id="reactive-conductors-and-the-reactive-function">Reactive conductors and the <code>reactive()</code> function<a class="anchor" aria-label="anchor" href="#reactive-conductors-and-the-reactive-function"></a>
</h3>
<p>In considering reactive programming within Shiny, it’s helpful to
distinguish between the following:</p>
<ul>
<li>
<strong>Reactive Sources</strong> are the values provided by the
user through UI widgets created by input functions</li>
<li>
<strong>Reactive Endpoints</strong> are outputs that depend on
reactive sources. These include render functions like
<code>renderText()</code> or <code>renderPlot()</code>, which respond to
input changes and update the UI accordingly.</li>
<li>
<strong>Reactive conductors</strong> sit in between sources and
endpoints. They are created using the <code>reactive()</code> function
and are used to process or transform input values before they reach the
endpoints. They can help reduce code duplication, and improve
efficiency.</li>
</ul>
<p>These reactive conductors are particularly useful when multiple
outputs depend on the same derived value. Without a conductor, you’d
have to repeat the same calculation in every render function. For
example, in a Fahrenheit-to-Celsius conversion app with multiple outputs
that display the Celsius temperature in different ways, it would be
inefficient to recompute the conversion in each output. Instead, you can
use a reactive conductor to perform the conversion once, and then
reference it in each render function. This makes your code cleaner,
avoids duplication, and improves efficiency.</p>
<p>Let’s consider an example. We’ll make a tip calculator application
that takes as input your bill, and the desired tip (as a percentage). It
then returns the dollar value of the tip (based on the bill and desired
tip percentage), and the total value of the bill (including the tip).
Note that in the process we’ll also introduce a new input widget, the
slider bar, which is created with <code>sliderInput()</code>:</p>
<div class="codewrapper sourceCode" id="cb35">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Define the user interface</span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu">fluidPage</span><span class="op">(</span></span>
<span>  <span class="fu">titlePanel</span><span class="op">(</span><span class="st">"Tip Calculator"</span><span class="op">)</span>,  <span class="co"># App title displayed at the top</span></span>
<span>  </span>
<span>  <span class="fu">sidebarLayout</span><span class="op">(</span></span>
<span>    <span class="fu">sidebarPanel</span><span class="op">(</span>  <span class="co"># Sidebar contains input controls</span></span>
<span>      <span class="fu">numericInput</span><span class="op">(</span><span class="st">"bill"</span>, <span class="st">"Bill amount ($):"</span>, value <span class="op">=</span> <span class="fl">50</span>, min <span class="op">=</span> <span class="fl">0</span><span class="op">)</span>,  <span class="co"># Input for bill amount</span></span>
<span>      <span class="fu">sliderInput</span><span class="op">(</span><span class="st">"tip"</span>, <span class="st">"Tip percentage:"</span>, min <span class="op">=</span> <span class="fl">0</span>, max <span class="op">=</span> <span class="fl">30</span>, value <span class="op">=</span> <span class="fl">15</span><span class="op">)</span>  <span class="co"># Slider for tip %</span></span>
<span>    <span class="op">)</span>,</span>
<span>    </span>
<span>    <span class="fu">mainPanel</span><span class="op">(</span>  <span class="co"># Main panel displays output</span></span>
<span>      <span class="fu">textOutput</span><span class="op">(</span><span class="st">"tip_amount"</span><span class="op">)</span>,   <span class="co"># Displays computed tip amount</span></span>
<span>      <span class="fu">textOutput</span><span class="op">(</span><span class="st">"total_amount"</span><span class="op">)</span>  <span class="co"># Displays computed total amount (bill + tip)</span></span>
<span>    <span class="op">)</span> <span class="co"># closes mainPanel</span></span>
<span>  <span class="op">)</span> <span class="co"># closes sidebarLayout</span></span>
<span><span class="op">)</span> <span class="co"># closes fluidPage</span></span>
<span></span>
<span><span class="co"># Define the server logic</span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span><span class="op">)</span> <span class="op">{</span></span>
<span>  </span>
<span>  <span class="co"># Calculate and display the tip amount</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">tip_amount</span> <span class="op">&lt;-</span> <span class="fu">renderText</span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="va">tip_amt</span> <span class="op">&lt;-</span> <span class="va">input</span><span class="op">$</span><span class="va">bill</span> <span class="op">*</span> <span class="va">input</span><span class="op">$</span><span class="va">tip</span> <span class="op">/</span> <span class="fl">100</span>  <span class="co"># Calculate tip as a percentage of the bill</span></span>
<span>    <span class="fu">paste</span><span class="op">(</span><span class="st">"Tip amount: $"</span>, <span class="fu">round</span><span class="op">(</span><span class="va">tip_amt</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span>  <span class="co"># Create a string to display the result</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># Calculate and display the total amount</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">total_amount</span> <span class="op">&lt;-</span> <span class="fu">renderText</span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="va">tip_amt</span> <span class="op">&lt;-</span> <span class="va">input</span><span class="op">$</span><span class="va">bill</span> <span class="op">*</span> <span class="va">input</span><span class="op">$</span><span class="va">tip</span> <span class="op">/</span> <span class="fl">100</span>         <span class="co"># Recalculate tip again (duplicated logic)</span></span>
<span>    <span class="va">total_amt</span> <span class="op">&lt;-</span> <span class="va">input</span><span class="op">$</span><span class="va">bill</span> <span class="op">+</span> <span class="va">tip_amt</span>               <span class="co"># Add tip to bill for total</span></span>
<span>    <span class="fu">paste</span><span class="op">(</span><span class="st">"Total amount: $"</span>, <span class="fu">round</span><span class="op">(</span><span class="va">total_amt</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span>   <span class="co"># Display total</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Run the Shiny app</span></span>
<span><span class="fu">shinyApp</span><span class="op">(</span><span class="va">ui</span>, <span class="va">server</span><span class="op">)</span></span></code></pre>
</div>
<p>This yields an application that looks like the following:</p>
<figure style="text-align: center"><img src="../fig/fig30-tip-initial.png" alt="Figure 30. Tip calculator" class="figure mx-auto d-block"><figcaption>
Figure 30. Tip calculator
</figcaption></figure><p>The app looks and works as expected, but note that the code used to
create it involved some duplication (which the comments in the code call
attention to). In particular
<code>tip_amt &lt;- input$bill * input$tip / 100</code> is repeated in
both the <code>tip_amount</code> and <code>total_amount</code>
endpoints. You might wonder why <code>tip_amt</code> can’t be reused
after it’s initially defined in <code>output$tip_amount</code>; the
reason is that the value of <code>tip_amt</code> calculated inside the
first <code>renderText()</code> id local to that block of code. It is
not remembered or shared across other render functions. More generally,
each render function is its own reactive context; variables defined
within one of these contexts only exist there.</p>
<p>Given that’s the case, you might wonder whether you can define a
function in the server to calculate <code>tip_amt</code>, and then use
that function within render functions to avoid code duplication. The
answer is that this won’t work; in particular, regular user-defined
functions are not reactive, so they won’t automatically update when
input values change.</p>
<p>The solution to avoid code duplication of this sort is the
<code>reactive()</code> function. Below, we’ll rewrite the script above,
this time using the <code>reactive()</code> function to calculate
<code>tip_amt</code>, which we’ll then subsequently use in different
endpoints without having to recalculate anything:</p>
<div class="codewrapper sourceCode" id="cb36">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu">fluidPage</span><span class="op">(</span></span>
<span>  <span class="fu">titlePanel</span><span class="op">(</span><span class="st">"Tip Calculator"</span><span class="op">)</span>,</span>
<span>  <span class="fu">sidebarLayout</span><span class="op">(</span></span>
<span>    <span class="fu">sidebarPanel</span><span class="op">(</span></span>
<span>      <span class="fu">numericInput</span><span class="op">(</span><span class="st">"bill"</span>, <span class="st">"Bill amount ($):"</span>, value <span class="op">=</span> <span class="fl">50</span>, min <span class="op">=</span> <span class="fl">0</span><span class="op">)</span>,</span>
<span>      <span class="fu">sliderInput</span><span class="op">(</span><span class="st">"tip"</span>, <span class="st">"Tip percentage:"</span>, min <span class="op">=</span> <span class="fl">0</span>, max <span class="op">=</span> <span class="fl">30</span>, value <span class="op">=</span> <span class="fl">15</span><span class="op">)</span></span>
<span>    <span class="op">)</span>,</span>
<span>    <span class="fu">mainPanel</span><span class="op">(</span></span>
<span>      <span class="fu">textOutput</span><span class="op">(</span><span class="st">"tip_amount"</span><span class="op">)</span>,</span>
<span>      <span class="fu">textOutput</span><span class="op">(</span><span class="st">"total_amount"</span><span class="op">)</span></span>
<span>    <span class="op">)</span> <span class="co"># closes mainPanel</span></span>
<span>  <span class="op">)</span> <span class="co"># closes sidebarLayout</span></span>
<span><span class="op">)</span> <span class="co"># closes fluidPage</span></span>
<span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span><span class="op">)</span> <span class="op">{</span></span>
<span>  </span>
<span>  <span class="co"># Reactive conductor: compute tip once and reuse it</span></span>
<span>  <span class="va">tip_amt</span> <span class="op">&lt;-</span> <span class="fu">reactive</span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="va">input</span><span class="op">$</span><span class="va">bill</span> <span class="op">*</span> <span class="va">input</span><span class="op">$</span><span class="va">tip</span> <span class="op">/</span> <span class="fl">100</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">tip_amount</span> <span class="op">&lt;-</span> <span class="fu">renderText</span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="fu">paste</span><span class="op">(</span><span class="st">"Tip amount: $"</span>, <span class="fu">round</span><span class="op">(</span><span class="fu">tip_amt</span><span class="op">(</span><span class="op">)</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">total_amount</span> <span class="op">&lt;-</span> <span class="fu">renderText</span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="va">total</span> <span class="op">&lt;-</span> <span class="va">input</span><span class="op">$</span><span class="va">bill</span> <span class="op">+</span> <span class="fu">tip_amt</span><span class="op">(</span><span class="op">)</span></span>
<span>    <span class="fu">paste</span><span class="op">(</span><span class="st">"Total amount: $"</span>, <span class="fu">round</span><span class="op">(</span><span class="va">total</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu">shinyApp</span><span class="op">(</span><span class="va">ui</span>, <span class="va">server</span><span class="op">)</span></span></code></pre>
</div>
<p>Above, <code>tip_amount()</code> is turned into a reactive expression
by being enclosed in <code>reactive()</code> and is subsequently used in
both of the subsequent render functions, which helps avoid code
duplication. Note that when referring to a reactive expression, the name
of the expression must be followed by (), as in
<code>tip_amt()</code>.</p>
<p>Consider the benefits of using <code>reactive()</code>, even in this
simple application:</p>
<ul>
<li>It avoids duplication and increases efficiency: Tip amount is
calculated once in the <code>reactive()</code> expression, instead of
being repeated in each output block. This can improve app performance,
particularly in more complex settings.</li>
<li>Improves maintainability: If you need to change how the tip is
calculated, you only need to update it in one place</li>
</ul>
<p>The ability to define custom reactive conductors with
<code>reactive()</code> is especially useful when creating applications
based on datasets, which we will explore in the next episode. If you are
still a little hazy on what exactly <code>reactive()</code> does or why
it’s useful, it will become clearer then.</p>
</div>
<div class="section level3">
<h3 id="controlling-reactivity-with-eventreactive">Controlling Reactivity with eventReactive()<a class="anchor" aria-label="anchor" href="#controlling-reactivity-with-eventreactive"></a>
</h3>
<p>In the apps we’ve created so far, application outputs automatically
update whenever an input changes. Often, however, it can be useful to
control or delay reactivity, such that an update only happens when a
specific event occurs (such as the user clicking a button). Delaying
reactivity in this way can improve a user experience and conserve
computational resources.</p>
<p>A useful Shiny function for controlling reactivity in this way is
<code>eventReactive()</code>. Below, we modify the tip calculator
application to only run when the user clicks a button that says
“Calculate Tip”. To do so, we make two changes:</p>
<ul>
<li>We include the <code>actionButton()</code> function in the UI, which
creates the button users must click to trigger a calculation</li>
<li>Instead of using <code>reactive()</code> to calculate the tip, we
wrap the calculation in <code>eventReactive()</code>. This tells Shiny
to update the tip (and all downstream outputs) only when the
<strong>Calculate Tip</strong> button is clicked.</li>
</ul>
<div class="codewrapper sourceCode" id="cb37">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu">fluidPage</span><span class="op">(</span></span>
<span>  <span class="fu">titlePanel</span><span class="op">(</span><span class="st">"Tip Calculator"</span><span class="op">)</span>,</span>
<span>  <span class="fu">sidebarLayout</span><span class="op">(</span></span>
<span>    <span class="fu">sidebarPanel</span><span class="op">(</span></span>
<span>      <span class="fu">numericInput</span><span class="op">(</span><span class="st">"bill"</span>, <span class="st">"Bill amount ($):"</span>, value <span class="op">=</span> <span class="fl">50</span>, min <span class="op">=</span> <span class="fl">0</span><span class="op">)</span>,</span>
<span>      <span class="fu">sliderInput</span><span class="op">(</span><span class="st">"tip"</span>, <span class="st">"Tip percentage:"</span>, min <span class="op">=</span> <span class="fl">0</span>, max <span class="op">=</span> <span class="fl">30</span>, value <span class="op">=</span> <span class="fl">15</span><span class="op">)</span>,</span>
<span>      <span class="fu">actionButton</span><span class="op">(</span><span class="st">"calc_btn"</span>, <span class="st">"Calculate Tip"</span><span class="op">)</span></span>
<span>    <span class="op">)</span>,</span>
<span>    <span class="fu">mainPanel</span><span class="op">(</span></span>
<span>      <span class="fu">textOutput</span><span class="op">(</span><span class="st">"tip_amount"</span><span class="op">)</span>,</span>
<span>      <span class="fu">textOutput</span><span class="op">(</span><span class="st">"total_amount"</span><span class="op">)</span></span>
<span>    <span class="op">)</span> <span class="co"># closes mainPanel</span></span>
<span>  <span class="op">)</span> <span class="co"># closes sidebarLayout</span></span>
<span><span class="op">)</span> <span class="co"># closes fluidPage</span></span>
<span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span><span class="op">)</span> <span class="op">{</span></span>
<span>  </span>
<span>  <span class="co"># Reactive conductor: compute tip once and reuse it</span></span>
<span>  <span class="va">tip_amt</span> <span class="op">&lt;-</span> <span class="fu">eventReactive</span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">calc_btn</span>, <span class="op">{</span></span>
<span>    <span class="va">input</span><span class="op">$</span><span class="va">bill</span> <span class="op">*</span> <span class="va">input</span><span class="op">$</span><span class="va">tip</span> <span class="op">/</span> <span class="fl">100</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># create output of tip amount</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">tip_amount</span> <span class="op">&lt;-</span> <span class="fu">renderText</span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="fu">paste</span><span class="op">(</span><span class="st">"Tip amount: $"</span>, <span class="fu">round</span><span class="op">(</span><span class="fu">tip_amt</span><span class="op">(</span><span class="op">)</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># create output of total amount</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">total_amount</span> <span class="op">&lt;-</span> <span class="fu">renderText</span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="va">total</span> <span class="op">&lt;-</span> <span class="va">input</span><span class="op">$</span><span class="va">bill</span> <span class="op">+</span> <span class="fu">tip_amt</span><span class="op">(</span><span class="op">)</span></span>
<span>    <span class="fu">paste</span><span class="op">(</span><span class="st">"Total amount: $"</span>, <span class="fu">round</span><span class="op">(</span><span class="va">total</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu">shinyApp</span><span class="op">(</span><span class="va">ui</span>, <span class="va">server</span><span class="op">)</span></span></code></pre>
</div>
<p>When you launch the newly revised application, it will look something
like this:</p>
<figure style="text-align: center"><img src="../fig/fig31-tip-button.png" alt="Figure 31. Tip calculator with activation button" class="figure mx-auto d-block"><figcaption>
Figure 31. Tip calculator with activation button
</figcaption></figure><p>Now, the application will only “run” (i.e. return the relevant
outputs) after the user sets the input parameters and clicks the
“Calculate Tip” button.</p>
</div>
<div class="section level3">
<h3 id="observers">Observers<a class="anchor" aria-label="anchor" href="#observers"></a>
</h3>
<p>In Shiny, observers are functions that watch for changes in inputs,
and then trigger actions that don’t directly produce outputs shown in
the app’s user interface, but still affect how the app behaves. These
actions are called “side effects” because they influence the app in ways
other than updating visible output (for example, showing a message,
resetting a form, saving data to a file etc). Unlike reactive
expressions, which calculate values to update the UI, observers don’t
return values. Instead, they simply carry out a task when something
changes. Shiny provides two kinds of observers: <code>observe()</code>,
which runs code whenever any of its inputs change, and
<code>observeEvent()</code>, which waits for a specific event (like a
button click) before running. We can think of <code>observe()</code> and
<code>observeEvent()</code> as counterparts to <code>reactive()</code>
and <code>observeReactive()</code>, but instead of computing values for
outputs, they trigger side effects that change the app’s behavior.</p>
<p>To make this more concrete, let’s see how <code>observe()</code> and
<code>observeEvent()</code> can be used to enrich our tip calculator
app. In particular, we’ll use <code>observe()</code> to grey out the
“Calculate Tip” button if the Bill amount entered by the user is 0.
We’ll also use <code>observeEvent()</code> to reset the input parameters
to their default state when a “Reset” button is clicked; in addition,
when “Reset” is clicked and the input parameters are reset to their
default, the output values in the app are erased; when the “Calculate”
button is clicked again, the output values are once again displayed:</p>
<div class="codewrapper sourceCode" id="cb38">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu">fluidPage</span><span class="op">(</span></span>
<span>  <span class="fu">useShinyjs</span><span class="op">(</span><span class="op">)</span>,  <span class="co"># Initialize shinyjs</span></span>
<span>  <span class="fu">titlePanel</span><span class="op">(</span><span class="st">"Tip Calculator"</span><span class="op">)</span>,</span>
<span>  <span class="fu">sidebarLayout</span><span class="op">(</span></span>
<span>    <span class="fu">sidebarPanel</span><span class="op">(</span></span>
<span>      <span class="fu">numericInput</span><span class="op">(</span><span class="st">"bill"</span>, <span class="st">"Bill amount ($):"</span>, value <span class="op">=</span> <span class="fl">50</span>, min <span class="op">=</span> <span class="fl">0</span><span class="op">)</span>,</span>
<span>      <span class="fu">sliderInput</span><span class="op">(</span><span class="st">"tip"</span>, <span class="st">"Tip percentage:"</span>, min <span class="op">=</span> <span class="fl">0</span>, max <span class="op">=</span> <span class="fl">30</span>, value <span class="op">=</span> <span class="fl">15</span><span class="op">)</span>,</span>
<span>      <span class="fu">actionButton</span><span class="op">(</span><span class="st">"calc_btn"</span>, <span class="st">"Calculate Tip"</span><span class="op">)</span>,</span>
<span>      <span class="fu">actionButton</span><span class="op">(</span><span class="st">"reset_btn"</span>, <span class="st">"Reset"</span><span class="op">)</span></span>
<span>    <span class="op">)</span>,</span>
<span>    <span class="fu">mainPanel</span><span class="op">(</span></span>
<span>      <span class="fu">textOutput</span><span class="op">(</span><span class="st">"tip_amount"</span><span class="op">)</span>,  </span>
<span>      <span class="fu">textOutput</span><span class="op">(</span><span class="st">"total_amount"</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>  </span>
<span>  <span class="co"># Reactive conductor: calculate tip when button is clicked</span></span>
<span>  <span class="va">tip_amt</span> <span class="op">&lt;-</span> <span class="fu">eventReactive</span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">calc_btn</span>, <span class="op">{</span></span>
<span>    <span class="va">input</span><span class="op">$</span><span class="va">bill</span> <span class="op">*</span> <span class="va">input</span><span class="op">$</span><span class="va">tip</span> <span class="op">/</span> <span class="fl">100</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># Disable "Calculate Tip" button when bill is 0</span></span>
<span>  <span class="fu">observe</span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">bill</span> <span class="op">==</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="fu">shinyjs</span><span class="fu">::</span><span class="fu">disable</span><span class="op">(</span><span class="st">"calc_btn"</span><span class="op">)</span></span>
<span>    <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>      <span class="fu">shinyjs</span><span class="fu">::</span><span class="fu">enable</span><span class="op">(</span><span class="st">"calc_btn"</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># create output of tip amount</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">tip_amount</span> <span class="op">&lt;-</span> <span class="fu">renderText</span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="fu">paste</span><span class="op">(</span><span class="st">"Tip amount: $"</span>, <span class="fu">round</span><span class="op">(</span><span class="fu">tip_amt</span><span class="op">(</span><span class="op">)</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># create output of total amount</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">total_amount</span> <span class="op">&lt;-</span> <span class="fu">renderText</span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="va">total</span> <span class="op">&lt;-</span> <span class="va">input</span><span class="op">$</span><span class="va">bill</span> <span class="op">+</span> <span class="fu">tip_amt</span><span class="op">(</span><span class="op">)</span></span>
<span>    <span class="fu">paste</span><span class="op">(</span><span class="st">"Total amount: $"</span>, <span class="fu">round</span><span class="op">(</span><span class="va">total</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># Reset form and clear outputs when the "reset" button is clicked</span></span>
<span>  <span class="fu">observeEvent</span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">reset_btn</span>, <span class="op">{</span></span>
<span>    <span class="fu">updateNumericInput</span><span class="op">(</span><span class="va">session</span>, <span class="st">"bill"</span>, value <span class="op">=</span> <span class="fl">50</span><span class="op">)</span>  <span class="co"># Reset bill to 50</span></span>
<span>    <span class="fu">updateSliderInput</span><span class="op">(</span><span class="va">session</span>, <span class="st">"tip"</span>, value <span class="op">=</span> <span class="fl">15</span><span class="op">)</span>    <span class="co"># Reset tip to 15</span></span>
<span>    <span class="fu">shinyjs</span><span class="fu">::</span><span class="fu">hide</span><span class="op">(</span><span class="st">"tip_amount"</span><span class="op">)</span>                     <span class="co"># Hide tip output</span></span>
<span>    <span class="fu">shinyjs</span><span class="fu">::</span><span class="fu">hide</span><span class="op">(</span><span class="st">"total_amount"</span><span class="op">)</span>                   <span class="co"># Hide total output</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># Show outputs when "calculate" button is clicked </span></span>
<span>  <span class="fu">observeEvent</span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">calc_btn</span>, <span class="op">{</span></span>
<span>    <span class="fu">shinyjs</span><span class="fu">::</span><span class="fu">show</span><span class="op">(</span><span class="st">"tip_amount"</span><span class="op">)</span>    <span class="co"># Show tip output</span></span>
<span>    <span class="fu">shinyjs</span><span class="fu">::</span><span class="fu">show</span><span class="op">(</span><span class="st">"total_amount"</span><span class="op">)</span>  <span class="co"># Show total output</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu">shinyApp</span><span class="op">(</span><span class="va">ui</span>, <span class="va">server</span><span class="op">)</span></span></code></pre>
</div>
<p>A couple of points are worth highlighting about these changes to the
code.</p>
<ul>
<li>You’ll notice that we use functions from the <em>shinyjs</em>
package inside our observers. <em>Shinyjs</em> is a package within the
tidyverse ecosystem that offers a variety of functions that can improve
the user experience. We used the functions <code>enable()</code> and
<code>disable()</code> to enable or disable the “Calculate Tip” button
depending on a condition. We also used it to hide outputs after a user
resets the application, and show outputs after a user clicks the
“Calculate Tip” button again.</li>
<li>Note the tasks the observers are accomplishing, such as disabling or
enabling buttons or resetting the form to default values. This
underscores our earlier point that observers perform tasks in response
to inputs, and thereby shape the app’s behavior; however, they do not
actually compute values used in outputs (as reactive expressions do).
Note, also, the difference between <code>observe()</code> and
<code>observeEvent()</code> in action; the former produces its
side-effect (i.e. disabling the button) whenever the input value for the
bill is 0, while the latter produces its side effects (i.e. resetting
the form and clearing or restoring outputs) in response to a specific
trigger.</li>
<li>In response to a user clicking the reset button, code within an
observer function hides output, and restores this output when the
“Calculate Tip” button is again clicked. This may seem to contradict our
earlier point, that observers do not actually impact outputs, but
trigger side effects that are relevant for the app’s behavior. It’s
important to note, though, that these “hiding” and “showing” effects
modify the UI’s appearance via JavaScript/CSS (via the <em>shinyjs</em>
functions) rather than altering the reactive values or computations that
drive the outputs, and are therefore best understood as side
effects.<br>
</li>
<li>Note that we included the “session” argument to the server function
this time, because of the way in which the side effects of the observer
function impact the UI. The details are too technical to get into here,
but the basic point is that in apps with multiple concurrent users, the
session object ensures that updates (triggered, for example, by the
reset button) are applied to the correct user’s instance of the
app.</li>
</ul>
<div id="callout2" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Callout</h3>
<div class="callout-content">
<p>One advanced reactivity function that we won’t cover in detail, but
which you should be aware of, is <code>isolate()</code>. The
<code>isolate()</code> function lets you access an input value without
making your code react to it. In other words, <code>isolate()</code>
lets you use an input while disabling Shiny’s default behavior of
automatically updating outputs in response to input changes. This is
helpful when you want to use an input—like a name or a comment—in your
output, but don’t want changes to that input to automatically rerun your
calculations or update your results. Just like other reactivity
functions, <code>isolate()</code> gives you more control over how and
when your app responds to changes. You’ll want to be aware of
<code>isolate()</code>, particularly if you go on to use Shiny
extensively in the future, and anticipate developing sophisticated
applications; for our purposes now, however, the reactivity functions
we’ve already covered are more fundamental.</p>
</div>
</div>
</div>
<div id="challenge-6-create-a-button-activated-fahrenheit-to-celsius-converter-application" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="challenge-6-create-a-button-activated-fahrenheit-to-celsius-converter-application" class="callout-inner">
<h3 class="callout-title">Challenge 6: Create a button-activated Fahrenheit to Celsius converter application</h3>
<div class="callout-content">
<p>Write a Fahrenheit to Celsius converter application in which the user
enters a Fahrenheit temperature, and can convert this value to its
Celsius equivalent by clicking a button.</p>
</div>
</div>
</div>
<div id="accordionSolution5" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution5" aria-expanded="false" aria-controls="collapseSolution5">
  <h4 class="accordion-header" id="headingSolution5"> Show me the solution </h4>
</button>
<div id="collapseSolution5" class="accordion-collapse collapse" aria-labelledby="headingSolution5" data-bs-parent="#accordionSolution5">
<div class="accordion-body">
<p>Your application code should look something like this:</p>
<div class="codewrapper sourceCode" id="cb39">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu">fluidPage</span><span class="op">(</span></span>
<span>  <span class="fu">titlePanel</span><span class="op">(</span><span class="st">"Fahrenheit to Celsius Converter"</span><span class="op">)</span>,</span>
<span>  <span class="fu">sidebarLayout</span><span class="op">(</span></span>
<span>    <span class="fu">sidebarPanel</span><span class="op">(</span></span>
<span>      <span class="fu">numericInput</span><span class="op">(</span><span class="st">"temp_f"</span>, <span class="st">"Temperature in Fahrenheit:"</span>, value <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span>,</span>
<span>      <span class="fu">actionButton</span><span class="op">(</span><span class="st">"convert_btn"</span>, <span class="st">"Convert"</span><span class="op">)</span></span>
<span>    <span class="op">)</span>,</span>
<span>    <span class="fu">mainPanel</span><span class="op">(</span></span>
<span>      <span class="fu">textOutput</span><span class="op">(</span><span class="st">"result"</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">temp_celsius</span> <span class="op">&lt;-</span> <span class="fu">eventReactive</span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">convert_btn</span>, <span class="op">{</span></span>
<span>    <span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">temp_f</span> <span class="op">-</span> <span class="fl">32</span><span class="op">)</span> <span class="op">*</span> <span class="fl">5</span> <span class="op">/</span> <span class="fl">9</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu">renderText</span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="fu">paste</span><span class="op">(</span><span class="st">"Temperature in Celsius:"</span>, <span class="fu">round</span><span class="op">(</span><span class="fu">temp_celsius</span><span class="op">(</span><span class="op">)</span>, <span class="fl">1</span><span class="op">)</span>, <span class="st">"°C"</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu">shinyApp</span><span class="op">(</span><span class="va">ui</span>, <span class="va">server</span><span class="op">)</span></span></code></pre>
</div>
<p>Once the app is launched, it looks something like this:</p>
<figure style="text-align: center"><img src="../fig/fig32-fahreneheit-celsius-button.png" alt="Figure 32. The Fahrenheit to Celsius Converter App with Activation Button" class="figure mx-auto d-block"><figcaption>
Figure 32. The Fahrenheit to Celsius Converter App with Activation
Button
</figcaption></figure><p>Entering a temperature value in the text box, and then clicking
“Convert”, should trigger the application to make the required
conversion display the Celsius temperature equivalent.</p>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>The fundamental building blocks of all Shiny applications are the
user interface (UI) and the server. Shiny apps are launched by combining
the UI and server with the shinyApp() function.</li>
<li>Output functions serve two purposes: in the UI, they act as
placeholders for content; in the server, their corresponding render
functions generate content to be displayed. It’s possible to build a
static Shiny application using only outputs, without any inputs.</li>
<li>Input functions create various widgets (such as text boxes, sliders,
menus etc.) that allow users to interact with an application by
specifying input values. By default, changes in inputs automatically
trigger updates in outputs—this behavior is called reactivity. Input
values are referenced in the server using their unique IDs.</li>
<li>Reactive expressions (also known as reactive conductors) created
with <code>reactive()</code> sit between inputs and outputs, allowing
you to process or transform input values before they’re displayed. They
help reduce duplication and improve performance.</li>
<li>Observers created with <code>observe()</code> let you perform side
effects—tasks that respond to changes but do not return values (e.g.,
resetting inputs, enabling/disabling buttons, or saving files). They
affect app behavior rather than generating output.</li>
<li>Functions such as <code>eventReactive()</code> and
<code>observeEvent()</code> provide more control over when reactivity
occurs. They are useful for delaying updates until a specific event
(like a button click) happens. Use <code>eventReactive()</code> when
producing outputs and <code>observeEvent()</code> for behavior changes
that don’t involve rendering output.</li>
<li>Layouts and themes help organize and style your app. Use sidebar
layout and tabs to arrange components clearly. Style templates from the
<em>shinythemes</em> package can give your app a polished look with
minimal effort.</li>
</ul>
</div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</div>
</section></section><section id="aio-03-data-applications"><p>Content from <a href="03-data-applications.html">Shiny Data Applications</a></p>
<hr>
<p>Last updated on 2025-07-29 |

        <a href="https://github.com/aranganath24/data-dashboard-carpentries/edit/main/episodes/03-data-applications.Rmd" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 12 minutes</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How do you create Shiny applications that allow users to query and
explore datasets in an intuitive and interactive manner?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Apply what you learned about general principles of Shiny application
development in the previous Episode to make simple but powerful Shiny
applications that facilitate interactive data exploration</li>
<li>Continue to learn new tools, concepts, and functions related to
Shiny application development</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="preliminaries">Preliminaries<a class="anchor" aria-label="anchor" href="#preliminaries"></a>
</h2>
<hr class="half-width">
<p>Before beginning this episode, please ensure you have the following
libraries installed and loaded:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">library</span><span class="op">(</span><span class="va">shiny</span><span class="op">)</span></span>
<span><span class="kw">library</span><span class="op">(</span><span class="va">shinyjs</span><span class="op">)</span></span>
<span><span class="kw">library</span><span class="op">(</span><span class="va">nycflights13</span><span class="op">)</span></span>
<span><span class="kw">library</span><span class="op">(</span><span class="va">tidyverse</span><span class="op">)</span></span>
<span><span class="kw">library</span><span class="op">(</span><span class="va">DT</span><span class="op">)</span></span>
<span><span class="kw">library</span><span class="op">(</span><span class="va">shinythemes</span><span class="op">)</span></span></code></pre>
</div>
</section><section><h2 class="section-heading" id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<hr class="half-width">
<p>Now that we are oriented to some of the fundamental principles of
application development in Shiny, we’ll use what we learned to develop
simple applications that can facilitate interactive and intuitive data
exploration. By showcasing how Shiny applications can function as
interactive portals into static datasets, this Episode aims to stimulate
ideas about how you might use Shiny to make your own datasets more
broadly accessible to non-specialist audiences.</p>
<p>This Episode uses a “case-study” approach to demonstrating how the
basic principles we learned in the previous Episode can be applied in
the context of developing dataset-based applications. Certain new
features of Shiny will be introduced as we go, but for the most part,
the focus will be on applying and reinforcing what we have already
learned about Shiny, but in an applied context that is more relevant for
researchers and data scientists than application developers.</p>
</section><section><h2 class="section-heading" id="shiny-script-template">Shiny script template<a class="anchor" aria-label="anchor" href="#shiny-script-template"></a>
</h2>
<hr class="half-width">
<p>Before proceeding to our first data application, we’ll briefly
introduce R Studio’s Shiny template, which you can use to develop the
applications in this Episode. In the previous Episode, we wrote out our
simple Shiny applications in regular R scripts. Writing Shiny code from
scratch offered good practice when starting out, but it’s useful to know
that R Studio comes with a prebuilt shiny template that can make it
easier to develop applications. This template is actually a simple Shiny
app, and we can swap out the elements in this template with our own as
we go; this allows us to focus on our inputs and outputs, rather than
the app’s structure. To access this template go to
<strong>File</strong>, then select <strong>New File</strong> followed by
<strong>Shiny Web App</strong>:</p>
<figure style="text-align: center"><img src="../fig/fig33-template.png" alt="Figure 33. Accessing the Shiny Template" class="figure mx-auto d-block"><figcaption>
Figure 33. Accessing the Shiny Template
</figcaption></figure><p>This will open up a small dialog box in which you’re asked to name
the application and specify a directory; R Studio will create a new
sub-directory within the specified directory with the name you provide.
This sub-directory can be used to house all of your application
materials. R Studio automatically deposits a file within this
sub-directory called <strong>app.R</strong>, which is the template. The
template will also automatically be opened within R Studio after you
close the dialog box. It looks something like this:</p>
<figure style="text-align: center"><img src="../fig/fig34-template-script.png" alt="Figure 34. The Shiny Template File" class="figure mx-auto d-block"><figcaption>
Figure 34. The Shiny Template File
</figcaption></figure><p>The template actually provides the script for a simple Shiny
application, which you can launch by highlighting the script and
clicking the <strong>Run App</strong> button in the menu bar right about
the script. You can develop your own original applications by swapping
in (and/or adding) your own title and application elements (inputs,
outputs etc.) as you go. Using this template allows you to focus on
these application elements, instead of worrying about writing the
broader skeletal structure of the app from scratch.</p>
</section><section><h2 class="section-heading" id="our-first-data-application-querying-flight-delays">Our first data application: querying flight delays<a class="anchor" aria-label="anchor" href="#our-first-data-application-querying-flight-delays"></a>
</h2>
<hr class="half-width">
<p>In your previous work learning about data analysis in R, you may have
encountered a dataset of flight departures from New York City airports
in 2013 from the <em>nycflights13</em> dataset:</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># prints flights dataset</span></span>
<span><span class="fu">nycflights13</span><span class="fu">::</span><span class="va">flights</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># A tibble: 336,776 × 19
    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
 1  2013     1     1      517            515         2      830            819
 2  2013     1     1      533            529         4      850            830
 3  2013     1     1      542            540         2      923            850
 4  2013     1     1      544            545        -1     1004           1022
 5  2013     1     1      554            600        -6      812            837
 6  2013     1     1      554            558        -4      740            728
 7  2013     1     1      555            600        -5      913            854
 8  2013     1     1      557            600        -3      709            723
 9  2013     1     1      557            600        -3      838            846
10  2013     1     1      558            600        -2      753            745
# ℹ 336,766 more rows
# ℹ 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,
#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,
#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre>
</div>
<p>This dataset is intuitive, interesting, and possibly familiar from
your previous education in R. It theerfore offers a good opportunity to
develop our very first data based application. Imagine you are a
transportation analyst who has been tasked with developing a simple
application that allows end users to specify a month and date, and view
a table containing information about the five flights with the longest
departure delays on that day, along with a plot that allows them to
visualize these delays. Such an application could be useful to a
senior-level decisionmaker that may not necessarily have data science
expertise, but needs to quickly query the dataset to get a sense of
day-by-day delay patterns. It could also be useful on a public-facing
website.</p>
<p>Before starting to write your app (with the aid of the prebuilt Shiny
template), it can be useful to consider briefly outline the app in plain
language, which can subsequently help you to write out the code.</p>
<ul>
<li>The app will have a table and a plot as outputs, so we will need to
reserve space in the UI for these elements using output placeholder
functions. Recall from the previous episode that the placeholder
function for plots is <code>plotOutput()</code>. We didn’t work with
data tables in the previous episode, but Shiny’s native data table
output function is <code>tableOutput()</code>. However, Shiny’s native
table functions are somewhat limited; they are static, when it is
frequently the case that dynamic tables (which allow for scrolling) are
preferable. The <em>DT</em> package has table functions that can be used
in Shiny, and which support tables that have more functionality and
which are aesthetically more appealing than native Shiny tables. As a
result, we’ll use these <em>DT</em> functions in our app. The relevant
table output placeholder function from <em>DT</em> is
<code>dataTableOutput()</code>.</li>
<li>These placeholder functions will need to be accompanied by
corresponding output render functions in the server; these render
functions contain the code necessary to create the outputs that will
populate the UI. Our plot will be created within the
<code>renderPlot()</code> function, which we used in the previous
episode. The <em>DT</em> package’s render function, used in conjunction
with <code>dataTableOutput()</code> is
<code>renderDataTable()</code>.</li>
<li>We will use the <code>selectInput()</code> function in the UI to
create a drop-down menu where users can select the day and month of
interest.</li>
<li>Turning to the server logic, it makes sense to create a reactive
expression that extracts all of the records associated with the user’s
desired month and day, and feed this information into the render
functions, where the records with the five highest delays can be
subsetted using <em>dplyr</em>’s <code>slice_head()</code> function. In
the <code>renderPlot()</code> function, this information will be used to
make a plot (in <em>ggplot2</em>) of the five longest delays for that
month/day.</li>
</ul>
<p>Now, let’s translate this into Shiny code by populating the template
with these functions and the relevant server logic:</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu">fluidPage</span><span class="op">(</span></span>
<span>  <span class="fu">titlePanel</span><span class="op">(</span><span class="st">"Top 5 Departure Delays"</span><span class="op">)</span>,</span>
<span>  <span class="fu">sidebarLayout</span><span class="op">(</span></span>
<span>    <span class="fu">sidebarPanel</span><span class="op">(</span></span>
<span>      <span class="fu">selectInput</span><span class="op">(</span>inputId <span class="op">=</span> <span class="st">"month"</span>, label <span class="op">=</span> <span class="st">"Select Month"</span>, choices <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">12</span>, selected <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>,</span>
<span>      <span class="fu">selectInput</span><span class="op">(</span>inputId <span class="op">=</span> <span class="st">"day"</span>, label <span class="op">=</span> <span class="st">"Select Day"</span>, choices <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">31</span>, selected <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span>    <span class="op">)</span>,</span>
<span>    <span class="fu">mainPanel</span><span class="op">(</span></span>
<span>      <span class="fu">DT</span><span class="fu">::</span><span class="fu">dataTableOutput</span><span class="op">(</span>outputId <span class="op">=</span> <span class="st">"delay_table"</span><span class="op">)</span>,</span>
<span>      <span class="fu">plotOutput</span><span class="op">(</span>outputId <span class="op">=</span> <span class="st">"delay_plot"</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span><span class="op">)</span> <span class="op">{</span></span>
<span>  </span>
<span>  <span class="co"># reactive expression to extract records associated with the month/day desired by the user</span></span>
<span>  <span class="va">daily_flights</span> <span class="op">&lt;-</span> <span class="fu">reactive</span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="va">flights</span> <span class="op">%&gt;%</span></span>
<span>      <span class="fu">filter</span><span class="op">(</span><span class="va">month</span> <span class="op">==</span> <span class="va">input</span><span class="op">$</span><span class="va">month</span>, <span class="va">day</span> <span class="op">==</span> <span class="va">input</span><span class="op">$</span><span class="va">day</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>      <span class="fu">filter</span><span class="op">(</span><span class="op">!</span><span class="fu">is.na</span><span class="op">(</span><span class="va">dep_delay</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># code to create table of the flights with the five longest delays on the user-specified day;</span></span>
<span>  <span class="co"># populates "dataTableOutput" in the UI</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">delay_table</span> <span class="op">&lt;-</span> <span class="fu">DT</span><span class="fu">::</span><span class="fu">renderDataTable</span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="fu">daily_flights</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>      <span class="fu">arrange</span><span class="op">(</span><span class="fu">desc</span><span class="op">(</span><span class="va">dep_delay</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>      <span class="fu">slice_head</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">5</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>      <span class="fu">select</span><span class="op">(</span><span class="va">dep_time</span>, <span class="va">sched_dep_time</span>, <span class="va">dep_delay</span>, <span class="va">carrier</span>, <span class="va">flight</span>, <span class="va">dest</span><span class="op">)</span></span>
<span>  <span class="op">}</span>, options <span class="op">=</span> <span class="fu">list</span><span class="op">(</span>pageLength <span class="op">=</span> <span class="fl">5</span>, scrollX <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span> <span class="co"># specifies behavior and appearance of table</span></span>
<span>  </span>
<span>  <span class="co"># creates inverted bar plot of flights with the five longest delays on the user-specified day</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">delay_plot</span> <span class="op">&lt;-</span> <span class="fu">renderPlot</span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="va">top5</span> <span class="op">&lt;-</span> <span class="fu">daily_flights</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>      <span class="fu">arrange</span><span class="op">(</span><span class="fu">desc</span><span class="op">(</span><span class="va">dep_delay</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>      <span class="fu">slice_head</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span>    </span>
<span>    <span class="fu">ggplot</span><span class="op">(</span><span class="va">top5</span>, <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="fu">reorder</span><span class="op">(</span><span class="fu">paste</span><span class="op">(</span><span class="va">carrier</span>, <span class="va">flight</span><span class="op">)</span>, <span class="va">dep_delay</span><span class="op">)</span>, y <span class="op">=</span> <span class="va">dep_delay</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>      <span class="fu">geom_col</span><span class="op">(</span>fill <span class="op">=</span> <span class="st">"darkorange"</span><span class="op">)</span> <span class="op">+</span></span>
<span>      <span class="fu">coord_flip</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>      <span class="fu">labs</span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Top 5 Departure Delays"</span>, x <span class="op">=</span> <span class="st">"Flight"</span>, y <span class="op">=</span> <span class="st">"Delay (min)"</span><span class="op">)</span> <span class="op">+</span></span>
<span>      <span class="fu">theme_minimal</span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu">shinyApp</span><span class="op">(</span><span class="va">ui</span>, <span class="va">server</span><span class="op">)</span></span></code></pre>
</div>
<p>When you launch the app, it will look something like this:</p>
<figure style="text-align: center"><img src="../fig/fig35-flights.png" alt="Figure 35. Flight Delay Application" class="figure mx-auto d-block"><figcaption>
Figure 35. Flight Delay Application
</figcaption></figure><p>Once it’s launched, you should change the inputs and confirm that the
outputs are responsive to these inputs.</p>
<div id="challenge-1-enhance-the-flight-delay-app" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="challenge-1-enhance-the-flight-delay-app" class="callout-inner">
<h3 class="callout-title">Challenge 1: Enhance the flight delay app</h3>
<div class="callout-content">
<p>In this challenge, you will enhance the app we just created, both
functionally and stylistically, using your knowledge of Shiny’s features
and tools. Please modify and/or add to the flight delay app’s code in
order to accomplish the following:</p>
<ul>
<li>Add a button labeled “Display” that users must press after
specifying their desired input parameters in order for the app to
update.</li>
<li>Add an additional input filter (you can choose a widget of your
choice) that allows users to filter observations by the originating
airport (the “origin” field)</li>
<li>Apply a theme of your choice from the <em>shinythemes</em> package
to improve the appearance of the app.</li>
</ul>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<p>The code below makes these changes. It uses the “paper” theme, check
box filters to capture user preferences on the airport(s) of interest,
and uses <code>eventReactive()</code> to activate updates when the
button, created by <code>actionButton()</code>, is clicked.</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu">fluidPage</span><span class="op">(</span></span>
<span>  theme <span class="op">=</span> <span class="fu">shinytheme</span><span class="op">(</span><span class="st">"paper"</span><span class="op">)</span>,  <span class="co"># paper theme</span></span>
<span>  </span>
<span>  <span class="fu">titlePanel</span><span class="op">(</span><span class="st">"Top 5 Departure Delays"</span><span class="op">)</span>,</span>
<span>  </span>
<span>  <span class="fu">sidebarLayout</span><span class="op">(</span></span>
<span>    <span class="fu">sidebarPanel</span><span class="op">(</span></span>
<span>      <span class="fu">selectInput</span><span class="op">(</span><span class="st">"month"</span>, <span class="st">"Select Month"</span>, choices <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">12</span>, selected <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>,</span>
<span>      <span class="fu">selectInput</span><span class="op">(</span><span class="st">"day"</span>, <span class="st">"Select Day"</span>, choices <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">31</span>, selected <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>,</span>
<span>      <span class="co"># adds check box input to select airport; default is to have all options selected</span></span>
<span>      <span class="fu">checkboxGroupInput</span><span class="op">(</span><span class="st">"origin"</span>, <span class="st">"Filter by Origin Airport"</span>,</span>
<span>                         choices <span class="op">=</span> <span class="fu">unique</span><span class="op">(</span><span class="va">flights</span><span class="op">$</span><span class="va">origin</span><span class="op">)</span>,</span>
<span>                         selected <span class="op">=</span> <span class="fu">unique</span><span class="op">(</span><span class="va">flights</span><span class="op">$</span><span class="va">origin</span><span class="op">)</span><span class="op">)</span>,</span>
<span>      <span class="co"># adds "Display" button</span></span>
<span>      <span class="fu">actionButton</span><span class="op">(</span><span class="st">"go"</span>, <span class="st">"Display"</span><span class="op">)</span>  <span class="co"># Action button</span></span>
<span>    <span class="op">)</span>,</span>
<span>    </span>
<span>    <span class="fu">mainPanel</span><span class="op">(</span></span>
<span>      <span class="fu">DT</span><span class="fu">::</span><span class="fu">dataTableOutput</span><span class="op">(</span><span class="st">"delay_table"</span><span class="op">)</span>,</span>
<span>      <span class="fu">plotOutput</span><span class="op">(</span><span class="st">"delay_plot"</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span><span class="op">)</span> <span class="op">{</span></span>
<span>  </span>
<span>  <span class="co"># Use eventReactive to delay updates until button is clicked; extract records associated with the   # month/day/airport desired by the user</span></span>
<span>  <span class="va">filtered_flights</span> <span class="op">&lt;-</span> <span class="fu">eventReactive</span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">go</span>, <span class="op">{</span></span>
<span>    <span class="va">flights</span> <span class="op">%&gt;%</span></span>
<span>      <span class="fu">filter</span><span class="op">(</span><span class="va">month</span> <span class="op">==</span> <span class="va">input</span><span class="op">$</span><span class="va">month</span>, <span class="va">day</span> <span class="op">==</span> <span class="va">input</span><span class="op">$</span><span class="va">day</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>      <span class="fu">filter</span><span class="op">(</span><span class="va">origin</span> <span class="op">%in%</span> <span class="va">input</span><span class="op">$</span><span class="va">origin</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>      <span class="fu">filter</span><span class="op">(</span><span class="op">!</span><span class="fu">is.na</span><span class="op">(</span><span class="va">dep_delay</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span>   <span class="co"># creates table of the flights with the five longest delays on the user-specified day and     </span></span>
<span>   <span class="co"># populates "dataTableOutput" in the UIairport(s);</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">delay_table</span> <span class="op">&lt;-</span> <span class="fu">DT</span><span class="fu">::</span><span class="fu">renderDataTable</span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="fu">filtered_flights</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>      <span class="fu">arrange</span><span class="op">(</span><span class="fu">desc</span><span class="op">(</span><span class="va">dep_delay</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>      <span class="fu">slice_head</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">5</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>      <span class="fu">select</span><span class="op">(</span><span class="va">dep_time</span>, <span class="va">sched_dep_time</span>, <span class="va">dep_delay</span>, <span class="va">carrier</span>, <span class="va">flight</span>, <span class="va">origin</span>, <span class="va">dest</span><span class="op">)</span></span>
<span>  <span class="op">}</span>, options <span class="op">=</span> <span class="fu">list</span><span class="op">(</span>pageLength <span class="op">=</span> <span class="fl">5</span>, scrollX <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span> <span class="co"># specifies behavior and appearance of table</span></span>
<span>  </span>
<span>   <span class="co"># creates inverted bar plot of flights with the five longest delays on the user-specified day and    # for specified airport(s)</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">delay_plot</span> <span class="op">&lt;-</span> <span class="fu">renderPlot</span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="va">top5</span> <span class="op">&lt;-</span> <span class="fu">filtered_flights</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>      <span class="fu">arrange</span><span class="op">(</span><span class="fu">desc</span><span class="op">(</span><span class="va">dep_delay</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>      <span class="fu">slice_head</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span>    </span>
<span>    <span class="fu">ggplot</span><span class="op">(</span><span class="va">top5</span>, <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="fu">reorder</span><span class="op">(</span><span class="fu">paste</span><span class="op">(</span><span class="va">carrier</span>, <span class="va">flight</span><span class="op">)</span>, <span class="va">dep_delay</span><span class="op">)</span>, y <span class="op">=</span> <span class="va">dep_delay</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>      <span class="fu">geom_col</span><span class="op">(</span>fill <span class="op">=</span> <span class="st">"darkorange"</span><span class="op">)</span> <span class="op">+</span></span>
<span>      <span class="fu">coord_flip</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>      <span class="fu">labs</span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Top 5 Departure Delays"</span>, x <span class="op">=</span> <span class="st">"Flight"</span>, y <span class="op">=</span> <span class="st">"Delay (min)"</span><span class="op">)</span> <span class="op">+</span></span>
<span>      <span class="fu">theme_minimal</span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu">shinyApp</span><span class="op">(</span><span class="va">ui</span>, <span class="va">server</span><span class="op">)</span></span></code></pre>
</div>
<p>When launched, the app will look something like this:</p>
<figure style="text-align: center"><img src="../fig/fig36-flights-exercise.png" alt="Figure 36. Enhanced Flight Delay Application" class="figure mx-auto d-block"><figcaption>
Figure 36. Enhanced Flight Delay Application
</figcaption></figure>
</div>
</div>
</div>
</div>
<div id="did-you-know" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="did-you-know" class="callout-inner">
<h3 class="callout-title">Did you know?</h3>
<div class="callout-content">
<p>You can configure your Shiny apps to allow users to download data
from your app, based on their queries. For example, using the
<code>downloadButton()</code> (in the UI), and
<code>downloadHandler()</code> in the server, you could create an
application feature that allows users to download a CSV file of the top
5 delays based on their selected filters. If you’d like to learn more,
consult the documentation for these functions, and see if you can add
this feature to the app.</p>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="test">test<a class="anchor" aria-label="anchor" href="#test"></a>
</h2>
<hr class="half-width">
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>Shiny applications can offer an accessible and interactive entry
point into tabular datasets; you can build such applications using only
the concepts and tools introduced in the previous Episode</li>
<li>R Studio’s Shiny web application template can help save you time in
writing applications; start with the template, and swap in the functions
needed for your specific applications</li>
<li>It can be helpful to verbally conceptualize and outline your
application before writing the relevant code</li>
<li>To add tabular information to the Shiny application UI, it’s
recommended that you use the <em>DT</em> package’s
<code>dataTableOutput()</code> (in the UI) and
<code>renderDataTable()</code> (in the server) functions.</li>
</ul>
</div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</section></section><section id="aio-04-data-dashboards"><p>Content from <a href="04-data-dashboards.html">Shiny Data Dashboards</a></p>
<hr>
<p>Last updated on 2025-07-29 |

        <a href="https://github.com/aranganath24/data-dashboard-carpentries/edit/main/episodes/04-data-dashboards.Rmd" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>What is the relationship between the data applications we created in
the previous episode, and data dashboards (which we’ll create in this
one)?</li>
<li>What is <em>shinydashboard</em>, and what is it’s role in the Shiny
ecosystem?</li>
<li>How can <em>shinydashboard</em> simplify the dashboard creation
process?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Explore <em>shinydashboard</em> and gain practice in using this
package to make simple data dashboards.</li>
<li>Connect the process of making a dashboard with
<em>shinydashboard</em> to more general principles of application
development in Shiny (introduced in previous episodes)</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="preliminaries">Preliminaries<a class="anchor" aria-label="anchor" href="#preliminaries"></a>
</h2>
<hr class="half-width">
<p>Before proceeding with this Episode, please install and load the
following libraries (if you haven’t already done so):</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># load libraries</span></span>
<span><span class="kw">library</span><span class="op">(</span><span class="va">shiny</span><span class="op">)</span></span>
<span><span class="kw">library</span><span class="op">(</span><span class="va">shinydashboard</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>
Attaching package: 'shinydashboard'</code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>The following object is masked from 'package:graphics':

    box</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">library</span><span class="op">(</span><span class="va">tidyverse</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.4     ✔ readr     2.1.5
✔ forcats   1.0.0     ✔ stringr   1.5.1
✔ ggplot2   3.5.2     ✔ tibble    3.3.0
✔ lubridate 1.9.4     ✔ tidyr     1.3.1
✔ purrr     1.1.0     </code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">library</span><span class="op">(</span><span class="va">nycflights13</span><span class="op">)</span></span>
<span><span class="kw">library</span><span class="op">(</span><span class="va">DT</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>
Attaching package: 'DT'

The following objects are masked from 'package:shiny':

    dataTableOutput, renderDataTable</code></pre>
</div>
</section><section><h2 class="section-heading" id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<hr class="half-width">
<p>A Shiny data application is an interactive web application lets users
explore or manipulate data, including those without data science
expertise. In the previous episode, we gained experience in developing
such applications by applying some fundamental principles of Shiny
application development that we learned earlier. We can think of a data
dashboard as a specific kind of Shiny data application, one that
emphasizes the display of multiple interrelated pieces of information in
a structured, systematic, and visually appealing way. Dashboards can
often convey more information than simpler applications, and are
well-suited to providing important context and supporting
decisionmaking.</p>
<p>By itself, the base <em>shiny</em> package we’ve been working with
has all the tools and functions necessary to create more structured
dashboards, but doing so is non-trivial, and requires fairly advanced
knowledge of the Shiny environment. That’s where the
<em>shinydashboard</em> package comes in. Part of the broader Shiny
ecosystem (i.e. packages adjacent to the core <em>shiny</em> package
that extend and broaden its functionality, including those we’ve worked
with such as <em>shinythemes</em> and <em>shinyjs</em>), the
<em>shinydashboard</em> package provides a suite of functions that make
it relatively straighforward to build dashboards using the principles of
Shiny application development. The package does much of the work
involved in getting from basic Shiny data applications to more
multidimensional and context-rich dashboards, which makes it easier than
it otherwise would be to make data dashboards using the Shiny tools and
principles we’ve been learning.</p>
<p>At this point, your knowledge of Shiny is sufficiently advanced that
picking up <em>shinydashboard</em> will be quite manageable; it involves
learning some new functions, but as you’ll see, the underlying
principles at work are the same as the principles that underlie Shiny.
Now that you’ve done the heavy lifting in learning the essentials of
Shiny, and have developed some Shiny data applications, that learning
curve for <em>shinydashboard</em> will be less steep, but still yield a
significant payoff.</p>
</section><section><h2 class="section-heading" id="getting-oriented-to-shinydashboard">Getting oriented to <em>shinydashboard</em>
<a class="anchor" aria-label="anchor" href="#getting-oriented-to-shinydashboard"></a>
</h2>
<hr class="half-width">
<p>As a way of getting oriented to <em>shinydashboard</em>, consider the
following script, which creates a basic dashboard structure using
functions from the <em>shinydashboard</em> package.</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu">dashboardPage</span><span class="op">(</span>                     </span>
<span></span>
<span>  <span class="fu">dashboardHeader</span><span class="op">(</span>                    </span>
<span>    title <span class="op">=</span> <span class="st">"My Dashboard"</span>               </span>
<span>  <span class="op">)</span>,                                    </span>
<span></span>
<span>  <span class="fu">dashboardSidebar</span><span class="op">(</span>                      </span>
<span>    <span class="fu">sidebarMenu</span><span class="op">(</span>                         </span>
<span>      </span>
<span>      <span class="fu">menuItem</span><span class="op">(</span>                          </span>
<span>        <span class="st">"Dashboard"</span>,                   </span>
<span>        tabName <span class="op">=</span> <span class="st">"dashboard"</span>,         </span>
<span>        icon <span class="op">=</span> <span class="fu">icon</span><span class="op">(</span><span class="st">"dashboard"</span><span class="op">)</span>       </span>
<span>      <span class="op">)</span>,                                 </span>
<span></span>
<span>      <span class="fu">menuItem</span><span class="op">(</span>                          </span>
<span>        <span class="st">"About"</span>,                        </span>
<span>        tabName <span class="op">=</span> <span class="st">"about"</span>,               </span>
<span>        icon <span class="op">=</span> <span class="fu">icon</span><span class="op">(</span><span class="st">"info-circle"</span><span class="op">)</span>       </span>
<span>      <span class="op">)</span>                                 </span>
<span></span>
<span>    <span class="op">)</span>                                   </span>
<span>  <span class="op">)</span>,                                     </span>
<span></span>
<span>  <span class="fu">dashboardBody</span><span class="op">(</span>                         </span>
<span>    <span class="fu">tabItems</span><span class="op">(</span>                         </span>
<span></span>
<span>      <span class="fu">tabItem</span><span class="op">(</span>                           </span>
<span>        tabName <span class="op">=</span> <span class="st">"dashboard"</span>,           </span>
<span>        <span class="fu">h2</span><span class="op">(</span><span class="st">"Main Dashboard"</span><span class="op">)</span>,            </span>
<span>        <span class="fu">plotOutput</span><span class="op">(</span><span class="st">"myplot"</span><span class="op">)</span>            </span>
<span>      <span class="op">)</span>,                                 </span>
<span></span>
<span>      <span class="fu">tabItem</span><span class="op">(</span>                           </span>
<span>        tabName <span class="op">=</span> <span class="st">"about"</span>,              </span>
<span>        <span class="fu">h2</span><span class="op">(</span><span class="st">"About This App"</span><span class="op">)</span>,            </span>
<span>        <span class="fu">p</span><span class="op">(</span><span class="st">"This app was built using shinydashboard."</span><span class="op">)</span>  </span>
<span>      <span class="op">)</span>                                  </span>
<span>    <span class="op">)</span>                                 </span>
<span>  <span class="op">)</span>                                    </span>
<span></span>
<span><span class="op">)</span>                                     </span>
<span></span>
<span><span class="co"># Define the server-side logic</span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span><span class="op">)</span> <span class="op">{</span>      </span>
<span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">myplot</span> <span class="op">&lt;-</span> <span class="fu">renderPlot</span><span class="op">(</span><span class="op">{</span>          </span>
<span>    <span class="fu">hist</span><span class="op">(</span><span class="fu">rnorm</span><span class="op">(</span><span class="fl">100</span><span class="op">)</span><span class="op">)</span>                    </span>
<span>  <span class="op">}</span><span class="op">)</span>                               </span>
<span></span>
<span><span class="op">}</span>                                        </span>
<span></span>
<span><span class="co"># Run the Shiny application</span></span>
<span><span class="fu">shinyApp</span><span class="op">(</span><span class="va">ui</span>, <span class="va">server</span><span class="op">)</span>                     </span></code></pre>
</div>
<p>When you launch the dashboard application, you will see something
that looks like this:</p>
<figure style="text-align: center"><img src="../fig/fig37-dashboard-structure.png" alt="Figure 37. Empty Dashboard Application" class="figure mx-auto d-block"><figcaption>
Figure 37. Empty Dashboard Application
</figcaption></figure><div id="challenge-1-understand-the-code-to-create-a-dashboard" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="challenge-1-understand-the-code-to-create-a-dashboard" class="callout-inner">
<h3 class="callout-title">Challenge 1: Understand the code to create a dashboard</h3>
<div class="callout-content">
<p>After launching the (mostly) empty dashboard application structure
above, closely examine the dashboard and connect its various features to
the parts of the code that created it. Then, as a way of solidifying
your understanding, comment the code. Finally, identify some
similarities and differences between the code to create a more general
Shiny application, and to create a dashboard.</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<p>A thoroughly commented version of the script above would look
something like this:</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Define the User Interface (UI)</span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu">dashboardPage</span><span class="op">(</span>                     <span class="co"># Start the overall dashboard page layout</span></span>
<span></span>
<span>  <span class="fu">dashboardHeader</span><span class="op">(</span>                       <span class="co"># Define the top header of the dashboard</span></span>
<span>    title <span class="op">=</span> <span class="st">"My Dashboard"</span>               <span class="co"># Title displayed in the dashboard header</span></span>
<span>  <span class="op">)</span>,                                     <span class="co"># End of dashboardHeader</span></span>
<span></span>
<span>  <span class="fu">dashboardSidebar</span><span class="op">(</span>                      <span class="co"># Start the sidebar layout</span></span>
<span>    <span class="fu">sidebarMenu</span><span class="op">(</span>                         <span class="co"># Create a menu container for sidebar items</span></span>
<span>      </span>
<span>      <span class="fu">menuItem</span><span class="op">(</span>                          <span class="co"># Create first menu item</span></span>
<span>        <span class="st">"Dashboard"</span>,                     <span class="co"># Text shown in sidebar</span></span>
<span>        tabName <span class="op">=</span> <span class="st">"dashboard"</span>,           <span class="co"># Identifier used to link to tab content</span></span>
<span>        icon <span class="op">=</span> <span class="fu">icon</span><span class="op">(</span><span class="st">"dashboard"</span><span class="op">)</span>         <span class="co"># Display an icon (text input; still allowed here)</span></span>
<span>      <span class="op">)</span>,                                 <span class="co"># End of first menuItem</span></span>
<span></span>
<span>      <span class="fu">menuItem</span><span class="op">(</span>                          <span class="co"># Create second menu item</span></span>
<span>        <span class="st">"About"</span>,                         <span class="co"># Text shown in sidebar</span></span>
<span>        tabName <span class="op">=</span> <span class="st">"about"</span>,               <span class="co"># Identifier for linking to about tab</span></span>
<span>        icon <span class="op">=</span> <span class="fu">icon</span><span class="op">(</span><span class="st">"info-circle"</span><span class="op">)</span>       <span class="co"># Icon to accompany label</span></span>
<span>      <span class="op">)</span>                                  <span class="co"># End of second menuItem</span></span>
<span></span>
<span>    <span class="op">)</span>                                    <span class="co"># End of sidebarMenu</span></span>
<span>  <span class="op">)</span>,                                     <span class="co"># End of dashboardSidebar</span></span>
<span></span>
<span>  <span class="fu">dashboardBody</span><span class="op">(</span>                         <span class="co"># Start the main content body of the dashboard</span></span>
<span>    <span class="fu">tabItems</span><span class="op">(</span>                            <span class="co"># Container that holds tab panels</span></span>
<span></span>
<span>      <span class="fu">tabItem</span><span class="op">(</span>                           <span class="co"># First tab panel</span></span>
<span>        tabName <span class="op">=</span> <span class="st">"dashboard"</span>,           <span class="co"># Must match tabName in sidebar menu item</span></span>
<span>        <span class="fu">h2</span><span class="op">(</span><span class="st">"Main Dashboard"</span><span class="op">)</span>,            <span class="co"># Large heading for this tab</span></span>
<span>        <span class="fu">plotOutput</span><span class="op">(</span><span class="st">"myplot"</span><span class="op">)</span>             <span class="co"># Placeholder for plot to be rendered in server</span></span>
<span>      <span class="op">)</span>,                                 <span class="co"># End of first tabItem</span></span>
<span></span>
<span>      <span class="fu">tabItem</span><span class="op">(</span>                           <span class="co"># Second tab panel</span></span>
<span>        tabName <span class="op">=</span> <span class="st">"about"</span>,               <span class="co"># Must match second menu item's tabName</span></span>
<span>        <span class="fu">h2</span><span class="op">(</span><span class="st">"About This App"</span><span class="op">)</span>,            <span class="co"># Heading for the About section</span></span>
<span>        <span class="fu">p</span><span class="op">(</span><span class="st">"This app was built using shinydashboard."</span><span class="op">)</span>  <span class="co"># Informative paragraph</span></span>
<span>      <span class="op">)</span>                                  <span class="co"># End of second tabItem</span></span>
<span></span>
<span>    <span class="op">)</span>                                    <span class="co"># End of tabItems container</span></span>
<span>  <span class="op">)</span>                                      <span class="co"># End of dashboardBody</span></span>
<span></span>
<span><span class="op">)</span>                                        <span class="co"># End of dashboardPage definition</span></span>
<span></span>
<span><span class="co"># Define the server-side logic</span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span><span class="op">)</span> <span class="op">{</span>      <span class="co"># Start server function</span></span>
<span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">myplot</span> <span class="op">&lt;-</span> <span class="fu">renderPlot</span><span class="op">(</span><span class="op">{</span>          <span class="co"># Define a plot output</span></span>
<span>    <span class="fu">hist</span><span class="op">(</span><span class="fu">rnorm</span><span class="op">(</span><span class="fl">100</span><span class="op">)</span><span class="op">)</span>                     <span class="co"># Generate a histogram of 100 random values</span></span>
<span>  <span class="op">}</span><span class="op">)</span>                                     <span class="co"># End of renderPlot</span></span>
<span></span>
<span><span class="op">}</span>                                        <span class="co"># End of server function</span></span>
<span></span>
<span><span class="co"># Run the Shiny application</span></span>
<span><span class="fu">shinyApp</span><span class="op">(</span><span class="va">ui</span>, <span class="va">server</span><span class="op">)</span>                     <span class="co"># Launch the app using the UI and server</span></span></code></pre>
</div>
<p>You’ll notice that in broad terms, the code to create a standard
application is quite similar to this code to create a dashboard using
<em>shinydashboard</em> functions. Notice, for example, the structure of
the code, which is divided into a section for the UI and one for the
server; as before, the application is launched by bringing these
elements together within <em>shinyApp</em>. The basic logic of a Shiny
app is also on display here; space for outputs is reserved in the UI,
and these outputs are then populated in the server code. For example,
space for the plot created within the <code>renderPlot()</code> function
is reserved with <code>plotOutput("myplot")</code>, and the plot created
in the server is linked back to its UI placeholder using dollar sign
notation to reference the output ID. Right now, the dashboard isn’t an
interactive one that takes in user inputs and automatically updates the
outputs in accordance with the principle of reactivity, but you may be
able to anticipate this possibility, based on the overall structure of
the dashboard application.</p>
<p>The main difference you’ll notice is that the user interface is more
structured (with sections such as a sidebar menu and tabbed content)
than the interface of a regular application, and this structured
interface is implemented using <em>shinydashboard</em> functions that
help generate a dashboard layout “off the shelf”. Note, for example, the
use of <code>dashboardPage()</code> rather than <code>fluidPage()</code>
as the base-level UI function.</p>
<p>The UI is organized by <code>dashboardPage()</code> into three main
sections:</p>
<ul>
<li>
<strong>Header</strong>, which shows the dashboard title at the top
via <code>dashboardHeader()</code>
</li>
<li>
<strong>Sidebar</strong> which shows a vertical panel with a
navigation menu on the side, via <code>dashboardSidebar()</code>
</li>
<li>A <strong>Body</strong>, where associated with each tab is
displayed, via <code>dashboardBody()</code>
</li>
</ul>
<p>In this example, the sidebar menu of the dashboard includes two menu
items:</p>
<ul>
<li>One is called “Dashboard”, and labeled internally with
<code>tabName="dashboard"</code>
</li>
<li>The other is called “About”, and labelled internally with
<code>tabName="about"</code>
</li>
</ul>
<p>The body of the dashboard has two items, with each one linked to a
tab in the sidebar menu.</p>
<ul>
<li>The “dashboard” item the body contains a title and plot output.</li>
<li>the “about” item in the body contains a title and a short paragraph
of text.</li>
</ul>
<p>The items in the dashboard’s boy are linked back to their tabs in the
sidebar (so that clicking one of the tabs brings the user to the
appropriate item in the body) via their internal identifiers. For
example, the “dashboard” item in the body is linked to its corresponding
tab in the sidebar via <code>tabName = "dashboard"</code>.</p>
<p>The syntax on the server side is identical to what you’ve seen in
previous episodes.</p>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="building-a-simple-flight-delay-dashboard">Building a simple flight delay dashboard<a class="anchor" aria-label="anchor" href="#building-a-simple-flight-delay-dashboard"></a>
</h2>
<hr class="half-width">
<p>Now that we’re oriented to to the basic layout of
<em>shinydashboard</em> and the code used to generate it, let’s get some
practice developing a more substantive (yet still relatively simple)
dashboard that features an interactive dimension. As in the previous
Episode, we’ll use flights data from the <em>nycflights13</em> package.
Building a data dashboard of flight delays will allow us to compare the
dashboard to the application we built in the previous lesson, and
appreciate the richer options for the display of information offered by
the dashboard format.</p>
<p>As before, we’ll start by verbally outlining the dashboard, which
we’ll name “NYC Flights Dashboard”:</p>
<ul>
<li>For simplicity, we’ll only include one menu item in the sidebar,
named “Dashboard”, corresponding to the main dashboard page. On the
sidebar, we’ll also include our Month and Day input widgets.</li>
<li>The body of the dashboard has a single page containing a variety of
plots, tables, and value boxes The first row of this page will contain
two value boxes containing information on the number of total departing
flights, and the average flight delay (we’ll reserve space for these
boxes using the <code>valueBoxOutput()</code> placeholder. The second
row will contain a plot of the top 10 departure delays for the selected
time frame, and a table of the top 5 departure delays; space for the
plot is reserved in the UI using <code>plotOutput()</code>, while space
for the table is reserved using <code>tableOutput()</code> (this time,
unlike the previous episode, we’ll use Shiny’s in-built table output
functions rather than those from <em>DT</em>, so you can see the
difference in appearance). Finally, in the third row of the dashboard
page, we’ll reserve space for a plot of the average delay by
destination. * In the server, we’ll first create a reactive expression
that filters the dataset based on user specifications, and use this
expression within a <code>renderValueBox()</code> function to create the
code to display the total number of flights on the selected day. We’ll
also create a second reactive expression that takes the first reactive
expression, and removes the non-delayed flights. This expression will be
used to calculate the value for the second value box, i.e. the average
delay.</li>
<li>This second reactive expression will also be used in the subsequent
render functions that calculate the output values for the plots and
tables specified in the UI.</li>
</ul>
<p>When we translate this outline into code, we get something that looks
like the following:</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Define UI</span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu">dashboardPage</span><span class="op">(</span></span>
<span>  <span class="fu">dashboardHeader</span><span class="op">(</span>title <span class="op">=</span> <span class="st">"NYC Flights Dashboard"</span><span class="op">)</span>,</span>
<span>  </span>
<span>  <span class="fu">dashboardSidebar</span><span class="op">(</span></span>
<span>    <span class="fu">sidebarMenu</span><span class="op">(</span></span>
<span>      <span class="fu">menuItem</span><span class="op">(</span><span class="st">"Dashboard"</span>, tabName <span class="op">=</span> <span class="st">"dashboard"</span>, icon <span class="op">=</span> <span class="fu">icon</span><span class="op">(</span><span class="st">"plane"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>      <span class="fu">selectInput</span><span class="op">(</span><span class="st">"month"</span>, <span class="st">"Month"</span>, choices <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">12</span>, selected <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>, <span class="co"># month selector</span></span>
<span>      <span class="fu">selectInput</span><span class="op">(</span><span class="st">"day"</span>, <span class="st">"Day"</span>, choices <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">31</span>, selected <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="co"># day selector</span></span>
<span>    <span class="op">)</span> <span class="co"># closes sidebar menu</span></span>
<span>  <span class="op">)</span>, <span class="co"># closes dashboard sidebar</span></span>
<span>  </span>
<span>  <span class="fu">dashboardBody</span><span class="op">(</span></span>
<span>    <span class="fu">tabItems</span><span class="op">(</span></span>
<span>      <span class="fu">tabItem</span><span class="op">(</span>tabName <span class="op">=</span> <span class="st">"dashboard"</span>,</span>
<span>              <span class="fu">fluidRow</span><span class="op">(</span></span>
<span>                <span class="fu">valueBoxOutput</span><span class="op">(</span><span class="st">"flight_count"</span><span class="op">)</span>,</span>
<span>                <span class="fu">valueBoxOutput</span><span class="op">(</span><span class="st">"avg_delay"</span><span class="op">)</span></span>
<span>              <span class="op">)</span>, <span class="co"># closes first fluidRow</span></span>
<span>              <span class="fu">fluidRow</span><span class="op">(</span> <span class="co"># opens second row</span></span>
<span>                <span class="fu">box</span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Top 10 Departure Delays"</span>, width <span class="op">=</span> <span class="fl">6</span>,</span>
<span>                    <span class="fu">plotOutput</span><span class="op">(</span><span class="st">"delay_plot"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                <span class="fu">box</span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Top 5 Delayed Flights"</span>, width <span class="op">=</span> <span class="fl">6</span>,</span>
<span>                    <span class="fu">tableOutput</span><span class="op">(</span><span class="st">"top_delay_table"</span><span class="op">)</span><span class="op">)</span></span>
<span>              <span class="op">)</span>, <span class="co"># closes second row</span></span>
<span>              <span class="fu">fluidRow</span><span class="op">(</span> <span class="co"># opens third row</span></span>
<span>                <span class="fu">box</span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Average Delay by Destination"</span>, width <span class="op">=</span> <span class="fl">12</span>,</span>
<span>                    <span class="fu">plotOutput</span><span class="op">(</span><span class="st">"dest_delay_plot"</span><span class="op">)</span><span class="op">)</span></span>
<span>              <span class="op">)</span> <span class="co"># closes third fluidRow</span></span>
<span>      <span class="op">)</span> <span class="co"># closes tabItem </span></span>
<span>    <span class="op">)</span> <span class="co"># closes tabItems</span></span>
<span>  <span class="op">)</span> <span class="co"># closes dashboardBody</span></span>
<span><span class="op">)</span> <span class="co"># closes dashboardPage</span></span>
<span></span>
<span><span class="co"># Define server logic</span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span><span class="op">)</span> <span class="op">{</span></span>
<span>  </span>
<span>  <span class="co"># Reactive dataset for all flights (no dep_delay filter)</span></span>
<span>  <span class="va">all_flights</span> <span class="op">&lt;-</span> <span class="fu">reactive</span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="va">flights</span> <span class="op">%&gt;%</span></span>
<span>      <span class="fu">filter</span><span class="op">(</span><span class="va">month</span> <span class="op">==</span> <span class="fu">as.numeric</span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">month</span><span class="op">)</span>, </span>
<span>             <span class="va">day</span> <span class="op">==</span> <span class="fu">as.numeric</span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">day</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># Reactive dataset for flights with non-missing dep_delay</span></span>
<span>  <span class="va">filtered_flights</span> <span class="op">&lt;-</span> <span class="fu">reactive</span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="fu">all_flights</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>      <span class="fu">filter</span><span class="op">(</span><span class="op">!</span><span class="fu">is.na</span><span class="op">(</span><span class="va">dep_delay</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># Value box for total flights (all flights, including NA dep_delay)</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">flight_count</span> <span class="op">&lt;-</span> <span class="fu">renderValueBox</span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="va">count</span> <span class="op">&lt;-</span> <span class="fu">nrow</span><span class="op">(</span><span class="fu">all_flights</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="fu">valueBox</span><span class="op">(</span><span class="va">count</span>, <span class="st">"Flights"</span>, icon <span class="op">=</span> <span class="fu">icon</span><span class="op">(</span><span class="st">"plane-departure"</span><span class="op">)</span>, color <span class="op">=</span> <span class="st">"blue"</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># Value box for average departure delay</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">avg_delay</span> <span class="op">&lt;-</span> <span class="fu">renderValueBox</span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="va">avg</span> <span class="op">&lt;-</span> <span class="fu">round</span><span class="op">(</span><span class="fu">mean</span><span class="op">(</span><span class="fu">filtered_flights</span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">dep_delay</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>, <span class="fl">1</span><span class="op">)</span></span>
<span>    <span class="fu">valueBox</span><span class="op">(</span><span class="fu">paste0</span><span class="op">(</span><span class="va">avg</span>, <span class="st">" min"</span><span class="op">)</span>, <span class="st">"Avg. Departure Delay"</span>, icon <span class="op">=</span> <span class="fu">icon</span><span class="op">(</span><span class="st">"clock"</span><span class="op">)</span>, color <span class="op">=</span> <span class="st">"orange"</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># Bar plot for top 10 departure delays</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">delay_plot</span> <span class="op">&lt;-</span> <span class="fu">renderPlot</span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="va">top10</span> <span class="op">&lt;-</span> <span class="fu">filtered_flights</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>      <span class="fu">arrange</span><span class="op">(</span><span class="fu">desc</span><span class="op">(</span><span class="va">dep_delay</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>      <span class="fu">slice_head</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span>
<span>    </span>
<span>    <span class="fu">ggplot</span><span class="op">(</span><span class="va">top10</span>, <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="fu">reorder</span><span class="op">(</span><span class="fu">paste</span><span class="op">(</span><span class="va">carrier</span>, <span class="va">flight</span><span class="op">)</span>, <span class="va">dep_delay</span><span class="op">)</span>, y <span class="op">=</span> <span class="va">dep_delay</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>      <span class="fu">geom_col</span><span class="op">(</span>fill <span class="op">=</span> <span class="st">"tomato"</span><span class="op">)</span> <span class="op">+</span></span>
<span>      <span class="fu">coord_flip</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>      <span class="fu">labs</span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Top 10 Departure Delays"</span>, x <span class="op">=</span> <span class="st">"Flight"</span>, y <span class="op">=</span> <span class="st">"Delay (min)"</span><span class="op">)</span> <span class="op">+</span></span>
<span>      <span class="fu">theme_minimal</span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># Table of top 5 delayed flights</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">top_delay_table</span> <span class="op">&lt;-</span> <span class="fu">renderTable</span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="fu">filtered_flights</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>      <span class="fu">arrange</span><span class="op">(</span><span class="fu">desc</span><span class="op">(</span><span class="va">dep_delay</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>      <span class="fu">slice_head</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">5</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>      <span class="fu">select</span><span class="op">(</span><span class="va">carrier</span>, <span class="va">flight</span>, <span class="va">dep_delay</span>, <span class="va">dest</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>      <span class="fu">rename</span><span class="op">(</span>Airline <span class="op">=</span> <span class="va">carrier</span>, Flight <span class="op">=</span> <span class="va">flight</span>, Delay <span class="op">=</span> <span class="va">dep_delay</span>, Destination <span class="op">=</span> <span class="va">dest</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># Bar plot for average delay by destination</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">dest_delay_plot</span> <span class="op">&lt;-</span> <span class="fu">renderPlot</span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="fu">filtered_flights</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>      <span class="fu">group_by</span><span class="op">(</span><span class="va">dest</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>      <span class="fu">summarise</span><span class="op">(</span>avg_delay <span class="op">=</span> <span class="fu">mean</span><span class="op">(</span><span class="va">dep_delay</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>, n <span class="op">=</span> <span class="fu">n</span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>      <span class="fu">filter</span><span class="op">(</span><span class="va">n</span> <span class="op">&gt;=</span> <span class="fl">3</span><span class="op">)</span> <span class="op">%&gt;%</span>  <span class="co"># Require at least 3 flights for reliability</span></span>
<span>      <span class="fu">ggplot</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="fu">reorder</span><span class="op">(</span><span class="va">dest</span>, <span class="va">avg_delay</span><span class="op">)</span>, y <span class="op">=</span> <span class="va">avg_delay</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>      <span class="fu">geom_col</span><span class="op">(</span>fill <span class="op">=</span> <span class="st">"steelblue"</span><span class="op">)</span> <span class="op">+</span></span>
<span>      <span class="fu">coord_flip</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>      <span class="fu">labs</span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Average Departure Delay by Destination"</span>, x <span class="op">=</span> <span class="st">"Destination"</span>, y <span class="op">=</span> <span class="st">"Avg. Delay (min)"</span><span class="op">)</span> <span class="op">+</span></span>
<span>      <span class="fu">theme_minimal</span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Run the app</span></span>
<span><span class="fu">shinyApp</span><span class="op">(</span><span class="va">ui</span>, <span class="va">server</span><span class="op">)</span></span></code></pre>
</div>
<p>Some additional things to note about this script:</p>
<ul>
<li>Note that within the dashboard’s body, tab item is organized into
rows using <code>fluidRow()</code>. Each row spans a total width of 12
units. You can arrange content within these rows using boxes of varying
widths (for example, three boxes of width 4 or two boxes of width 6, as
long as the total does not exceed 12). These boxes function as
“containers” for UI elements such as plots, tables, value boxes
etc.</li>
<li>To correctly display value boxes, it’s not enough to compute a value
inside <code>renderValueBox()</code> and expect it to appear
automatically via its identifier. You must use the
<code>valueBox()</code> function inside <code>renderValueBox()</code> to
explicitly define what should be displayed and how—this ensures the
value appears in the intended format in the UI.</li>
</ul>
<p>When the app is launched, it will look something like this:</p>
<figure style="text-align: center"><img src="../fig/fig38-flight-dashboard.png" alt="Figure 38. Flight Delay Dashboard" class="figure mx-auto d-block"><figcaption>
Figure 38. Flight Delay Dashboard
</figcaption></figure><div id="challenge-2-enhance-the-flight-delay-dashboard" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="challenge-2-enhance-the-flight-delay-dashboard" class="callout-inner">
<h3 class="callout-title">Challenge 2: Enhance the flight delay dashboard</h3>
<div class="callout-content">
<p>Please add a checkbox input to the dashboard that allows users to
select their airport(s) of interest. Make sure that the app’s outputs
update in response to the user’s selection of the airport(s).</p>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Show me the solution </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" aria-labelledby="headingSolution2" data-bs-parent="#accordionSolution2">
<div class="accordion-body">
<p>To add a checkbox-based “airport selector”, use
<code>checkboxGroupInput()</code> in the UI; to ensure that this filter
is appropriately used in the calculation of the outputs, make sure to
update the argument to the <code>filter()</code> function in the first
reactive expression in the server. The revised code will look something
like this:</p>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Define UI</span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu">dashboardPage</span><span class="op">(</span></span>
<span>  <span class="fu">dashboardHeader</span><span class="op">(</span>title <span class="op">=</span> <span class="st">"NYC Flights Dashboard"</span><span class="op">)</span>,</span>
<span>  </span>
<span>  <span class="fu">dashboardSidebar</span><span class="op">(</span></span>
<span>    <span class="fu">sidebarMenu</span><span class="op">(</span></span>
<span>      <span class="fu">menuItem</span><span class="op">(</span><span class="st">"Dashboard"</span>, tabName <span class="op">=</span> <span class="st">"dashboard"</span>, icon <span class="op">=</span> <span class="fu">icon</span><span class="op">(</span><span class="st">"plane"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>      <span class="fu">selectInput</span><span class="op">(</span><span class="st">"month"</span>, <span class="st">"Month"</span>, choices <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">12</span>, selected <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>, <span class="co"># month selector</span></span>
<span>      <span class="fu">selectInput</span><span class="op">(</span><span class="st">"day"</span>, <span class="st">"Day"</span>, choices <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">31</span>, selected <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>, <span class="co"># day selector</span></span>
<span>      <span class="fu">checkboxGroupInput</span><span class="op">(</span><span class="st">"origin"</span>, <span class="st">"Airport of Origin"</span>, <span class="co"># airport selector</span></span>
<span>                         choices<span class="op">=</span><span class="fu">unique</span><span class="op">(</span><span class="va">flights</span><span class="op">$</span><span class="va">origin</span><span class="op">)</span>, </span>
<span>                         selecte<span class="op">=</span><span class="fu">unique</span><span class="op">(</span><span class="va">flights</span><span class="op">$</span><span class="va">origin</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="op">)</span> <span class="co"># closes sidebar menu</span></span>
<span>  <span class="op">)</span>, <span class="co"># closes dashboard sidebar</span></span>
<span>  </span>
<span>  <span class="fu">dashboardBody</span><span class="op">(</span></span>
<span>    <span class="fu">tabItems</span><span class="op">(</span></span>
<span>      <span class="fu">tabItem</span><span class="op">(</span>tabName <span class="op">=</span> <span class="st">"dashboard"</span>,</span>
<span>              <span class="fu">fluidRow</span><span class="op">(</span></span>
<span>                <span class="fu">valueBoxOutput</span><span class="op">(</span><span class="st">"flight_count"</span><span class="op">)</span>,</span>
<span>                <span class="fu">valueBoxOutput</span><span class="op">(</span><span class="st">"avg_delay"</span><span class="op">)</span></span>
<span>              <span class="op">)</span>, <span class="co"># closes first fluidRow</span></span>
<span>              <span class="fu">fluidRow</span><span class="op">(</span> <span class="co"># opens second row</span></span>
<span>                <span class="fu">box</span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Top 10 Departure Delays"</span>, width <span class="op">=</span> <span class="fl">6</span>,</span>
<span>                    <span class="fu">plotOutput</span><span class="op">(</span><span class="st">"delay_plot"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                <span class="fu">box</span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Top 5 Delayed Flights"</span>, width <span class="op">=</span> <span class="fl">6</span>,</span>
<span>                    <span class="fu">tableOutput</span><span class="op">(</span><span class="st">"top_delay_table"</span><span class="op">)</span><span class="op">)</span></span>
<span>              <span class="op">)</span>, <span class="co"># closes second row</span></span>
<span>              <span class="fu">fluidRow</span><span class="op">(</span> <span class="co"># opens third row</span></span>
<span>                <span class="fu">box</span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Average Delay by Destination"</span>, width <span class="op">=</span> <span class="fl">12</span>,</span>
<span>                    <span class="fu">plotOutput</span><span class="op">(</span><span class="st">"dest_delay_plot"</span><span class="op">)</span><span class="op">)</span></span>
<span>              <span class="op">)</span> <span class="co"># closes third fluidRow</span></span>
<span>      <span class="op">)</span> <span class="co"># closes tabItem </span></span>
<span>    <span class="op">)</span> <span class="co"># closes tabItems</span></span>
<span>  <span class="op">)</span> <span class="co"># closes dashboardBody</span></span>
<span><span class="op">)</span> <span class="co"># closes dashboardPage</span></span>
<span></span>
<span><span class="co"># Define server logic</span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span><span class="op">)</span> <span class="op">{</span></span>
<span>  </span>
<span>  <span class="co"># Reactive dataset for all flights (no dep_delay filter)</span></span>
<span>  <span class="va">all_flights</span> <span class="op">&lt;-</span> <span class="fu">reactive</span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="va">flights</span> <span class="op">%&gt;%</span></span>
<span>      <span class="fu">filter</span><span class="op">(</span><span class="va">month</span> <span class="op">==</span> <span class="fu">as.numeric</span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">month</span><span class="op">)</span>, </span>
<span>             <span class="va">day</span> <span class="op">==</span> <span class="fu">as.numeric</span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">day</span><span class="op">)</span>,</span>
<span>             <span class="va">origin</span> <span class="op">%in%</span> <span class="va">input</span><span class="op">$</span><span class="va">origin</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># Reactive dataset for flights with non-missing dep_delay</span></span>
<span>  <span class="va">filtered_flights</span> <span class="op">&lt;-</span> <span class="fu">reactive</span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="fu">all_flights</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>      <span class="fu">filter</span><span class="op">(</span><span class="op">!</span><span class="fu">is.na</span><span class="op">(</span><span class="va">dep_delay</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># Value box for total flights (all flights, including NA dep_delay)</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">flight_count</span> <span class="op">&lt;-</span> <span class="fu">renderValueBox</span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="va">count</span> <span class="op">&lt;-</span> <span class="fu">nrow</span><span class="op">(</span><span class="fu">all_flights</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="fu">valueBox</span><span class="op">(</span><span class="va">count</span>, <span class="st">"Flights"</span>, icon <span class="op">=</span> <span class="fu">icon</span><span class="op">(</span><span class="st">"plane-departure"</span><span class="op">)</span>, color <span class="op">=</span> <span class="st">"blue"</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># Value box for average departure delay</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">avg_delay</span> <span class="op">&lt;-</span> <span class="fu">renderValueBox</span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="va">avg</span> <span class="op">&lt;-</span> <span class="fu">round</span><span class="op">(</span><span class="fu">mean</span><span class="op">(</span><span class="fu">filtered_flights</span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">dep_delay</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>, <span class="fl">1</span><span class="op">)</span></span>
<span>    <span class="fu">valueBox</span><span class="op">(</span><span class="fu">paste0</span><span class="op">(</span><span class="va">avg</span>, <span class="st">" min"</span><span class="op">)</span>, <span class="st">"Avg. Departure Delay"</span>, icon <span class="op">=</span> <span class="fu">icon</span><span class="op">(</span><span class="st">"clock"</span><span class="op">)</span>, color <span class="op">=</span> <span class="st">"orange"</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># Bar plot for top 10 departure delays</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">delay_plot</span> <span class="op">&lt;-</span> <span class="fu">renderPlot</span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="va">top10</span> <span class="op">&lt;-</span> <span class="fu">filtered_flights</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>      <span class="fu">arrange</span><span class="op">(</span><span class="fu">desc</span><span class="op">(</span><span class="va">dep_delay</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>      <span class="fu">slice_head</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span>
<span>    </span>
<span>    <span class="fu">ggplot</span><span class="op">(</span><span class="va">top10</span>, <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="fu">reorder</span><span class="op">(</span><span class="fu">paste</span><span class="op">(</span><span class="va">carrier</span>, <span class="va">flight</span><span class="op">)</span>, <span class="va">dep_delay</span><span class="op">)</span>, y <span class="op">=</span> <span class="va">dep_delay</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>      <span class="fu">geom_col</span><span class="op">(</span>fill <span class="op">=</span> <span class="st">"tomato"</span><span class="op">)</span> <span class="op">+</span></span>
<span>      <span class="fu">coord_flip</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>      <span class="fu">labs</span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Top 10 Departure Delays"</span>, x <span class="op">=</span> <span class="st">"Flight"</span>, y <span class="op">=</span> <span class="st">"Delay (min)"</span><span class="op">)</span> <span class="op">+</span></span>
<span>      <span class="fu">theme_minimal</span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># Table of top 5 delayed flights</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">top_delay_table</span> <span class="op">&lt;-</span> <span class="fu">renderTable</span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="fu">filtered_flights</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>      <span class="fu">arrange</span><span class="op">(</span><span class="fu">desc</span><span class="op">(</span><span class="va">dep_delay</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>      <span class="fu">slice_head</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">5</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>      <span class="fu">select</span><span class="op">(</span><span class="va">carrier</span>, <span class="va">flight</span>, <span class="va">dep_delay</span>, <span class="va">dest</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>      <span class="fu">rename</span><span class="op">(</span>Airline <span class="op">=</span> <span class="va">carrier</span>, Flight <span class="op">=</span> <span class="va">flight</span>, Delay <span class="op">=</span> <span class="va">dep_delay</span>, Destination <span class="op">=</span> <span class="va">dest</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># Bar plot for average delay by destination</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">dest_delay_plot</span> <span class="op">&lt;-</span> <span class="fu">renderPlot</span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="fu">filtered_flights</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>      <span class="fu">group_by</span><span class="op">(</span><span class="va">dest</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>      <span class="fu">summarise</span><span class="op">(</span>avg_delay <span class="op">=</span> <span class="fu">mean</span><span class="op">(</span><span class="va">dep_delay</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>, n <span class="op">=</span> <span class="fu">n</span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>      <span class="fu">filter</span><span class="op">(</span><span class="va">n</span> <span class="op">&gt;=</span> <span class="fl">3</span><span class="op">)</span> <span class="op">%&gt;%</span>  <span class="co"># Require at least 3 flights for reliability</span></span>
<span>      <span class="fu">ggplot</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="fu">reorder</span><span class="op">(</span><span class="va">dest</span>, <span class="va">avg_delay</span><span class="op">)</span>, y <span class="op">=</span> <span class="va">avg_delay</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>      <span class="fu">geom_col</span><span class="op">(</span>fill <span class="op">=</span> <span class="st">"steelblue"</span><span class="op">)</span> <span class="op">+</span></span>
<span>      <span class="fu">coord_flip</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>      <span class="fu">labs</span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Average Departure Delay by Destination"</span>, x <span class="op">=</span> <span class="st">"Destination"</span>, y <span class="op">=</span> <span class="st">"Avg. Delay (min)"</span><span class="op">)</span> <span class="op">+</span></span>
<span>      <span class="fu">theme_minimal</span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Run the app</span></span>
<span><span class="fu">shinyApp</span><span class="op">(</span><span class="va">ui</span>, <span class="va">server</span><span class="op">)</span></span></code></pre>
</div>
<!--html_preserve-->
<iframe data-deferred-src="appaf57347896f667bbe4cc1af1f8696cab/?w=&amp;__subapp__=1" width="100%" height="400" class="shiny-frame shiny-frame-deferred">
</iframe>
<!--/html_preserve-->
<p>The result will look something like this:</p>
<figure style="text-align: center"><img src="../fig/fig39-flight-dashboard-airport.png" alt="Figure 39. Flight Delay Dashboard With Airport Selector" class="figure mx-auto d-block"><figcaption>
Figure 39. Flight Delay Dashboard With Airport Selector
</figcaption></figure>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>
<em>shinydashboard</em> is a package that makes it easier to develop
data dashboards using Shiny principles</li>
<li>We can think of a data dashboard as a specific type of data
application with a more structured layout, and the ability to display
larger amounts of information in context</li>
<li>The basic principles involved in building a dashboard with
<em>shinydashboard</em> are the same as those for any Shiny application,
but <em>shinydashboards</em> has unique functions associated with the
dashboard layout</li>
<li>In <em>shinydashboard</em>, the UI is divided into three main parts:
<code>dashboardHeader()</code>, <code>dashboardSidebar(</code>), and
<code>dashboardBody()</code>. These allow for a clear separation of the
header, navigation sidebar, and main content body, which contributes to
a structured, user-friendly layout.</li>
<li>
<em>shinydashboard</em> makes it easy to organize content using
boxes, value boxes, and fluid rows. Each of these can be customized with
specific widths to ensure an optimal layout for displaying information
like charts, tables, or textual content.</li>
<li>Just like any other Shiny application, dashboards can include
interactive elements like inputs (e.g., sliders, dropdowns, checkboxes)
to filter or modify the displayed data in real time. You can create
dynamic outputs using render functions, such as
<code>renderPlot()</code> that are familiar from before, as well as
render functions unique to <em>shinydashboard</em> such as
<code>renderValueBox()</code>.</li>
</ul>
</div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</section></section><section id="aio-05-publishing-applications"><p>Content from <a href="05-publishing-applications.html">Publishing Shiny Applications</a></p>
<hr>
<p>Last updated on 2025-07-29 |

        <a href="https://github.com/aranganath24/data-dashboard-carpentries/edit/main/episodes/05-publishing-applications.Rmd" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 12 minutes</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>What are some ways you can publish your Shiny web applications, and
make them available to a wider audience?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Survey different options for publishing your Shiny web applications,
and considerations associated with these options.</li>
<li>Deploy a web application to <a href="https://www.shinyapps.io" class="external-link">shinyapps.io</a>, an online platform
hosted by Posit (the developers of R Studio).</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="preliminaries">Preliminaries<a class="anchor" aria-label="anchor" href="#preliminaries"></a>
</h2>
<hr class="half-width">
<p>Please load (or if necessary, install) the following package, which
is necessary to deploy your applications to <a href="https://docs.posit.co/shinyapps.io/guide/getting_started/" class="external-link">shinyapps.io</a>.</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">library</span><span class="op">(</span><span class="va">rsconnect</span><span class="op">)</span></span></code></pre>
</div>
</section><section><h2 class="section-heading" id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<hr class="half-width">
<p>Now that you have some experience creating simple data applications
and dashboard using Shiny, you may be wondering how these applications
can be deployed online, so that those interested in your work can
interact with your applications. After all, these applications have the
potential to play an important role in the open source ecosystem, by
allowing researchers to share their research data with non-specialist
audiences in accessible ways. This final Episode will therefore suggest
some ways to put your applications out into the world.</p>
</section><section><h2 class="section-heading" id="publishing-shiny-applications-surveying-the-options">Publishing Shiny Applications: Surveying the Options<a class="anchor" aria-label="anchor" href="#publishing-shiny-applications-surveying-the-options"></a>
</h2>
<hr class="half-width">
<p>There are a variety of possible ways for you to disseminate your
Shiny applications. Note that our assumption, in presenting these
options, is that you would like to deploy your application(s) in your
capacity as an individual. There are enterprise-level deployment
solutions, such as <a href="https://posit.co/products/enterprise/connect/" class="external-link">Posit Connect</a>
and the open-source <a href="https://posit.co/products/open-source/shiny-server/" class="external-link">Shiny
Server</a>,that are beyond our scope, but which may be useful, depending
on your particular professional or organizational context. Also, please
note that the options below are not exhaustive, even when limiting our
concern to individual-level deployment options; if none of these options
meet your needs, you may want to do some research and investigate
possible alternatives that do. That said, the possibilities below are
good potential starting points.</p>
<p><strong>Posit</strong>, which is the developer of R Studio, offers
the most user-friendly and intuitive way to publish your Shiny Apps in
the form of <a href="https://www.shinyapps.io" class="external-link">shinyapps.io</a>). We
will discuss this platform and hosting service at greater length below.
If you do not want to use Posit’s service, you might consider a
containerized deployment, in which you package your app and environment
in a Docker container and deploy it to a cloud hosting service such as
AWS, Google Cloud, or Azure; of course, this requires meaningful
technical expertise, and would be a considerably more complex process
than deploying to <em>shinyapps.io</em>. However, these alternative
cloud deployments are likely to give you greater flexibility and control
in managing the deployment of your app.</p>
<p>It is also possible to share your applications in static
(non-interactive ways), and leave it to your users to launch your
application locally, based on the application code. Github repositories
can be an excellent place to store your application code and related
materials, where they can be accessed by others. Of course, this
requires some expertise on the part of the end-users (i.e. knowing how
to clone a Github repository and launch a Shiny application locally),
and sharing your applications this way may not allow you to realize the
goal of making your dataset(s) accessible to broad non-specialist
audiences, including the broader public. Of course, the choice between
sharing your applications in non-interactive formats (i.e. via an
application code repository on Github) or deploying to the web, is not
necessarily either/or. Indeed, it makes a lot of sense to deploy your
application to the web using a service such as <em>shinyapps.io</em>,
but also maintain a Github repository for your code, which can
facilitate code sharing, teaching, and research reproducibility. Hosting
your application code on Github can also be a way to <a href="https://docs.github.com/en/repositories/archiving-a-github-repository/referencing-and-citing-content" class="external-link">assign
a DOI</a> to your application and dashboard projects (via Github’s
integration with Zenodo), which facilitates discoverability and
long-term preservation.</p>
</section><section><h2 class="section-heading" id="deploying-to-shinyapps-io">Deploying to shinyapps.io<a class="anchor" aria-label="anchor" href="#deploying-to-shinyapps-io"></a>
</h2>
<hr class="half-width">
<p>In this section, we’ll go into a bit more detail on deploying your
Shiny applications on Posit’s <a href="https://www.shinyapps.io" class="external-link">shinyapps.io</a>) service, since that
offers the easiest way for you to publish your applications online,
where they can be accessed by anyone with an internet connection.</p>
<div class="section level3">
<h3 id="setting-up-and-configuring-your-shinyapps-account-and-rsconnect">Setting up and configuring your <em>shinyapps</em> account and
<em>rsconnect</em>
<a class="anchor" aria-label="anchor" href="#setting-up-and-configuring-your-shinyapps-account-and-rsconnect"></a>
</h3>
<p>In order to set up and configure <em>rsconnect</em>, which is needed
to deploy your Shiny apps to <em>shinyapps.io</em>, please take the
following steps:</p>
<ol style="list-style-type: decimal">
<li>Got to<a href="https://www.shinyapps.io" class="external-link">shinyapps.io</a>), and if
you haven’t already, create an account and log in.</li>
<li>Install and load the <em>rsconnect</em> package in your local
instance of R Studio (as you would any other package)</li>
<li>Once you are within your <em>shinyapps.io</em> account, click your
user name in the top right of the page, and select the
<strong>Tokens</strong> button.</li>
<li>On the <em>Tokens</em> page, you will see a window that looks
something like this:</li>
</ol>
<figure style="text-align: center"><img src="../fig/fig40-shiny-apps.png" alt="Figure 40. Authorizing rsconnect (source: Posit documentation)" class="figure mx-auto d-block"><figcaption>
Figure 40. Authorizing rsconnect (source: Posit documentation)
</figcaption></figure><p>Copy that command, paste it into your R console, and run it. 5. At
this point, you have <em>rsconnect</em> configured, and can use it to
deploy Shiny apps saved locally to <em>shinyapps.io</em>.</p>
</div>
<div class="section level3">
<h3 id="deploying-your-shiny-applications">Deploying your Shiny applications<a class="anchor" aria-label="anchor" href="#deploying-your-shiny-applications"></a>
</h3>
<p>In order to deploy your applications, follow these steps:</p>
<ol style="list-style-type: decimal">
<li>Make sure your Shiny application code, and related materials, are
stored in a dedicated directory. The <strong>.R</strong> file containing
your code <em>must</em> be saved as <strong>app.R</strong>.</li>
<li>Identify the file path to the directory with your application code
and related materials (such as the data needed to run your
application)</li>
<li>Pass the file path as an argument to <em>rsconnect’s</em>
<code>deployApp()</code> function,
i.e. <code>rsconnect::deployApp(&lt;file path&gt;</code>. This will
deploy your application to <em>shinyapps.io</em>, where you can find the
url to your application and visit your application online. Anybody with
an internet connection and this url can access your Shiny app, and
interact with it in the way you designed.</li>
</ol>
<p>Within your <em>shinyapps.io</em> account, which is itself laid out
as a dashboard, you can see a list of your deployed dashboards by
clicking the <strong>Applications</strong> tab on the left. Within that
page, clicking on the link to your deployed application will take you to
an application-specific page (known as “Application View”), which
contains the application url, and usage statistics. From this page, you
can also <a href="https://docs.posit.co/shinyapps.io/guide/applications/index.html#archiving-your-application" class="external-link">archive</a>
or <a href="https://docs.posit.co/shinyapps.io/guide/applications/index.html#archiving-your-application" class="external-link">delete</a>
your applications.</p>
<p>Note that if you are on the free tier, you can deploy up to five
applications at a time, but other usage limits apply. To see more
information about pricing and usage, please go to the <a href="https://www.shinyapps.io" class="external-link">shinyapps.io</a> page and scroll down.
In general, the free tier is sufficient for most research-related use
cases (especially if you carefully manage deployments), but in some
cases it may be worthwhile to pay for increased deployment and usage
limits, as well as increased security</p>
<p>Much of this information rehashes the <a href="https://docs.posit.co/shinyapps.io/guide/index.html" class="external-link">shinyapps.io
documentation and user guide</a>, which is a good place to go if you
have further questions or need additional guidance.</p>
<div id="deploy-an-application-to-shinyapps.io" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="deploy-an-application-to-shinyapps.io" class="callout-inner">
<h3 class="callout-title">Deploy an application to shinyapps.io</h3>
<div class="callout-content">
<p>Take an application or dashboard that you created in one of the
previous episodes, and publish it to <a href="https://www.shinyapps.io" class="external-link">shinyapps.io</a>. Copy the link to your
application, share it with a partner, and have them confirm your
application is working.</p>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>There are a variety of ways to publish your Shiny applications and
dashboards to the web, depending on your needs</li>
<li>The most intuitive and beginner-friendly publication platform is
Posit’s <a href="https://shinyapps.io" class="external-link">shinyapps.io</a>
</li>
<li>Before being able to deploy your apps to <em>shinyapps.io</em>, you
must set up an account, and configure <em>rsconnect</em>
</li>
<li>After this initial set up, you can deploy your application by
passing the filepath to the application directory (which contains the
<strong>app.R</strong> file containing your application code, as well as
any other relevant dependencies) as an argument to <em>rsconnect’s</em>
<code>deployApp()</code> function.</li>
<li>Once the application is deployed, you can go to your
<em>shinyapps.io</em> account page (and particularly the page’s
“Application View”) to retrieve the published application’s url, track
usage statistics, and manage your application (for example, archive or
delete it when you no longer want it publicly available).</li>
</ul>
</div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</div>
</section></section>
</div>
    </main>
</div>
<!-- END  : inst/pkgdown/templates/content-extra.html -->

      </div>
<!--/div.row-->
      		<footer class="row footer mx-md-3"><hr>
<div class="col-md-6">
        <p>This lesson is subject to the <a href="CODE_OF_CONDUCT.html">Code of Conduct</a></p>
        <p>

        <a href="https://github.com/aranganath24/data-dashboard-carpentries/edit/main/README.md" class="external-link">Edit on GitHub</a>

	
        | <a href="https://github.com/aranganath24/data-dashboard-carpentries/blob/main/CONTRIBUTING.md" class="external-link">Contributing</a>
        | <a href="https://github.com/aranganath24/data-dashboard-carpentries/" class="external-link">Source</a></p>
				<p><a href="https://github.com/aranganath24/data-dashboard-carpentries/blob/main/CITATION.cff" class="external-link">Cite</a> | <a href="mailto:aranganath24@gmail.com">Contact</a> | <a href="https://carpentries.org/about/" class="external-link">About</a></p>
			</div>
			<div class="col-md-6">

        <p>Materials licensed under <a href="LICENSE.html">CC-BY 4.0</a> by the authors</p>

        <p>Template licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">CC-BY 4.0</a> by <a href="https://carpentries.org/" class="external-link">The Carpentries</a></p>
        <p>Built with <a href="https://github.com/carpentries/sandpaper/tree/0.16.12" class="external-link">sandpaper (0.16.12)</a>, <a href="https://github.com/carpentries/pegboard/tree/0.7.9" class="external-link">pegboard (0.7.9)</a>, and <a href="https://github.com/carpentries/varnish/tree/1.0.6" class="external-link">varnish (1.0.6)</a></p>
			</div>
		</footer>
</div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
      <i class="search-icon" data-feather="arrow-up" role="img" aria-label="Back To Top"></i><br><!-- <span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top --><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "LearningResource",
  "@id": "https://aranganath24.github.io/data-dashboard-carpentries/instructor/aio.html",
  "inLanguage": "en",
  "dct:conformsTo": "https://bioschemas.org/profiles/LearningResource/1.0-RELEASE",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "dashboard, data, application development, Shiny, open science, The Carpentries",
  "name": "All in One View",
  "creativeWorkStatus": "active",
  "url": "https://aranganath24.github.io/data-dashboard-carpentries/instructor/aio.html",
  "identifier": "https://aranganath24.github.io/data-dashboard-carpentries/instructor/aio.html",
  "dateCreated": "2025-01-10",
  "dateModified": "2025-08-05",
  "datePublished": "2025-08-05"
}

  </script><script>
		feather.replace();
	</script>
</body>
</html><!-- END:   inst/pkgdown/templates/layout.html-->

